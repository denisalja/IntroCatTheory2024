\documentclass[11pt]{amsart}
\usepackage{amssymb, amstext, amsthm, amscd, amsmath,color}
\usepackage{graphicx} 
\usepackage[margin = 1 in]{geometry}
\usepackage{tikz-cd}
\usepackage{cancel}
\usepackage{thmtools}
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{comment}
\usepackage{enumitem}
\usepackage{xargs}
\usetikzlibrary{
  knots,
  hobby,
  decorations.pathreplacing,
  shapes.geometric,
  calc,
  decorations.pathmorphing,
  shapes,
  decorations.markings
  }
\usepackage[hidelinks]{hyperref}
\usepackage{tensor}
\usepackage{mathpartir}
\usepackage[textsize=scriptsize]{todonotes}
\newcommand{\deni}[1]{\todo[color=blue!25]{{\bf Deni:} #1}}
\newcommand{\bigdeni}[1]{\todo[inline,color=blue!25]{{\bf Deni:} #1}}
%Hyperlinks
\hypersetup{
colorlinks=true,
linktoc=all
}
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem*{propp}{Proposition}
\newtheorem*{corr}{Corollary}
%   Theorem style with roman text
%   numbered within section
\theoremstyle{definition}
\newtheorem{rem}[thm]{Remark}
\newtheorem{rems}[thm]{Remarks}
\newtheorem{defn}[thm]{Definition}
\newtheorem*{defn*}{Definition}
\newtheorem*{rem*}{Remark}
\newtheorem*{eg*}{Example}
\newtheorem*{neg*}{Non-Example}
\newtheorem*{egs*}{Examples}
\renewcommand*{\proofname}{Solution}
\newcommand{\fty}{\infty}
\newcommand{\lam}{\lambda}
\newcommand{\mR}{{\mathbb R}}
\newcommand{\mZ}{{\mathbb Z}}
\newcommand{\mN}{{\mathbb N}}
\newcommand{\vep}{\varepsilon}
\newcommand{\mD}{{\mathbb D}}
\newcommand{\mC}{{\mathbb C}}
\newcommand{\mE}{{\mathbb E}}
\newcommand{\mP}{{\mathbb P}}
\newcommand{\mS}{{\mathbb S}}
\newcommand{\mT}{{\mathbb T}}
\newcommand{\mB}{{\mathbb B}}
\newcommand{\mF}{{\mathbb F}}
\newcommand{\mK}{{\mathbb K}}
\newcommand{\mL}{{\mathbb L}}
\newcommand{\mA}{{\mathbbl A}}
\newcommand{\cZ}{{\mathcal Z}}
\newcommand{\cA}{{\mathcal A}}
\newcommand{\cB}{{\mathcal B}}
\newcommand{\cP}{{\mathcal P}}
\newcommand{\cC}{{\mathcal C}}
\newcommand{\cD}{{\mathcal D}}
\newcommand{\cU}{{\mathcal U}}
\newcommand{\cE}{{\mathcal E}}
\newcommand{\cM}{{\mathcal M}}
\newcommand{\cV}{{\mathcal V}}
\newcommand{\cY}{{\mathcal Y}}
\newcommand{\cJ}{{\mathcal J}}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\rk}{rk}
\DeclareMathOperator{\id}{\mathsf{id}}
\newcommand{\Nat}{\mathrm{Nat}}
\newcommand{\cov}{\mathrm{cov}}
\newcommand{\cod}{\mathrm{cod}}
\newcommand{\dom}{\mathrm{dom}}
\newcommand{\Hom}{\text{Hom}}
%
\newcommand{\im}{\text{im}}

\newcommand{\Rel}{\mathbf{Rel}}
\newcommand{\PAb}{\mathbf{PAb}}
\newcommand{\PSh}{\mathbf{PSh}}
\newcommand{\Sh}{\mathbf{Sh}}
\newcommand{\Top}{\mathbf{Top}}
\newcommand{\Cat}{\mathbf{Cat}}
\newcommand{\Ch}{\mathbf{Ch}}
\newcommand{\bA}{\mathbf{A}}
\newcommand{\bB}{\mathbf{B}}
\newcommand{\bD}{\mathbf{D}}
\newcommand{\bP}{\mathbf{P}}
\newcommand{\Sp}{{\mathbf{Sp}}}
\newcommand{\Set}{{\mathbf{Set}}}
\newcommand{\Grp}{\mathbf{Grp}}
\newcommand{\Ab}{\mathbf{Ab}}
\newcommand{\Par}{\mathbf{Par}}
\newcommand{\Ring}{\mathbf{Ring}}
\newcommand{\fkm}{\mathfrak{m}}
\newcommand{\bG}{\mathbf{G}}
\newcommand{\bH}{\mathbf{H}}
\newcommand{\bbA}{{\mathbb{A}}}
\newcommand{\mbJ}{{\mathbf{J}}}
\newcommand{\mbX}{{\mathbf {X}}}
\newcommand{\mbY}{{\mathbf {Y}}}
\newcommand{\mbZ}{{\mathbf {Z}}}
\newcommand{\noi}{{\noindent}}
\newcommand{\mQ}{{\mathbb Q}}
\newcommand*\quot[2]{{^{\textstyle #1}\big/_{\textstyle #2}}}
\newcommand{\cO}{\mathcal{O}}
 %For Adjuncitons
 \tikzset{%
    symbol/.style={%
        draw=none,
        every to/.append style={%
            edge node={node [sloped, allow upside down, auto=false]{$#1$}}}
    }
}
%left adjoint on top adjunction
\newcommand*\ladj[4]{\begin{tikzcd}[column sep = large, row sep = large, ampersand replacement=\&]
{#1} \ar[r,bend left,"{#2}",
{name=A, below}] \&  {#3} \ar[l,bend left,"{#4}",
{name=B,above}] \ar[from=A, to=B, symbol={\dashv}]
\end{tikzcd} }
%right adjoint on top adjunction
\newcommand*\radj[4]{\begin{tikzcd}[column sep = large, row sep = large, ampersand replacement=\&]
{#1} \ar[r,bend left,"{#2}",
{name=A, below}] \&  {#3} \ar[l,bend left,"{#4}",
{name=B,above}] \ar[from=B, to=A, symbol={\dashv}]
\end{tikzcd} }
%left adjoint on top adjunction
\newcommand*\ladjvcomp[5]{\begin{tikzcd}[column sep = huge, row sep = huge, ampersand replacement=\&]
{#1} \ar[r,bend left = 50,"{#2}",
{name=A, below}] 
\ar[from = r,"{#3}", 
{name=B,above},{name=B',bottom}]
 \ar[r,bend right=50,"{#4}"',
{name=C,below}]
\& {#5}  \ar[from=A, to=B, symbol={\dashv}]
\ar[from=B, to=C, symbol={\dashv}]
\end{tikzcd} }
%HOM-ALG SHORTCUTS
%sequence tikzcd arrows: \seqtkz{domain}{name}{codomain = domain}{name}{codomain}
\newcommand*\seqtkz[5]{{\begin{tikzcd}[ampersand replacement=\&] 
 \cdots \rar \& { #1 } \rar["{#2}"] \&  { #3 } \rar["{#4}"] \&  { #5 } \rar \& \cdots \end{tikzcd}}}
%short exact sequence: \ses{ob1}{map1}{ob2 }{map2}{ob3}
\newcommand*\ses[5]{{\begin{tikzcd}[ampersand replacement=\&] 
 0 \rar \& { #1 } \rar["{#2}"] \&  { #3 } \rar["{#4}"] \&  { #5 } \rar \& 0 \end{tikzcd}}}
%induced les cohomology: \lesco{space}{A}{B}{C}{varphi}{psi}
\newcommandx*\lescoh[6]{{\begin{tikzcd}[ampersand replacement=\&] 
 0 \rar \& H^0({#1};{#2} )  \rar["{#5}^*"] \&  H^0({#1};{#3})  \rar["{#6}^*"] \&  H^0({#1};{#4} ) \rar["\delta^0"] \& \cdots \
  \cdots \rar["\delta^n"] \& H^n({#1};{#2})  \rar["{#5}^*"] \& H^n({#1};{#3})  \rar["{#6}^*"] \&  H^n({#1};{#4})  \rar \& \cdots  
  \end{tikzcd}}}
%Injective Resolution: \artkz{domain}{name}{codomain}
\newcommand*\injresl[3]{{\begin{tikzcd}[ampersand replacement=\&] 
{ #1 } \rar[tail, "{#2}"] \&  { #3 }^\bullet \end{tikzcd}}}
%Injective Resolution Open ended: \injreslo{domain}{name}{codomain}
\newcommand*\injreslo[5]{{\begin{tikzcd}[ampersand replacement=\&] 
0 \rar[] \& { #1 } \rar[tail, "{#2}"] \&  { #3 } \rar["{#4}"] \& {#5} \rar \& \cdots  \end{tikzcd}}}
%Proj Resolution: \artkz{domain}{name}{codomain}
\newcommand*\projresl[3]{{\begin{tikzcd}[ampersand replacement=\&] 
{ #1 } \rar["{#2}"] \&  { #3 }_\bullet \end{tikzcd}}}
%etale spce functor
\newcommand{\Et}{\acute{E}t}
%germs
\newcommand*\germ[2]{\mathrm{germ_{#1}({#2})}}
%opens
\newcommand*\Op[1]{\mathbf{Open}({#1})}
\newcommand*\Opo[1]{\mathbf{Open}({#1})^{op}}
%support
\newcommand{\supp}{\mathrm{supp}}
\newcommand{\ab}{\mathrm{Ab}}
%big roomy quotient
\newcommand{\nat}[6][large]{%
 \begin{tikzcd}
 [ampersand replacement = \&, column sep=#1]
  #2\ar[bend left=40,
{name=U}]{r}{#4}
  \ar[bend right=40,',
{name=D}]{r}{#5}
  \& #3 \ar[shorten <=10pt,shorten >=10pt,Rightarrow,from=U,to=D]{d}{~#6}
  \end{tikzcd}
}
%pullback
\newsavebox{\pullback}
\sbox\pullback{%
\begin{tikzpicture}%
\draw (0,0) -- (1ex,0ex);%
\draw (1ex,0ex) -- (1ex,1ex);%
\end{tikzpicture}}
%pullback comand: \arrow[dr, phantom, "\usebox\pullback" , very near start, color=black]
%pushout
\newsavebox{\pushout}
\sbox\pushout{%
\begin{tikzpicture}%
\draw (0,0) -- (0ex,1ex);%
\draw (0ex,1ex) -- (1ex,1ex);%
\end{tikzpicture}}
%pushout comand: \arrow[ul, phantom, "\usebox\pushout" , very near start, color=black]
%Squiggly Arrow Guy: 
\newcounter{sarrow}
\newcommand\xrsquigarrow[1]{%
\stepcounter{sarrow}%
\begin{tikzpicture}[decoration=snake]
\node (\thesarrow) {\strut#1};
\draw[->,decorate] (\thesarrow.south west) -- (\thesarrow.south east);
\end{tikzpicture}%
}
\title{Category Theory Course Notes}
\author{Deni Salja}
\begin{document}
\maketitle



\section*{Introduction}

These are course notes from the winter 2024 semester Category Theory course at Dalhousie university taught by Dorette Pronk. We follow Robin's notes~\cite{Robin'sNotes} with occasional reference to Emily Riehl's book~\cite{CatsinContext}. She gave us options to do seminar-style presentations or guest lectures to replace exams. 


\noi Categories are a lot of things to a lot of people. They are places where mathematical objects are studied by structure preserving morphisms between them that satisfy some composition laws. Like the mathematical objects they so often contextualize, categories can be studied in terms of structure preserving morphisms between them in a `higher' categorical context! We'll get there eventually. 

We begin with some familiar examples of (concrete) categories and check out some of the formal structures and properties they have, but first\dots

\section*{A bit of History}

This little summary is from Dorette's slides from her honours talk in Feb 2020. Category theory was developed for a couple of reasons. One was to contextualize the mathematical objects people cared about and study them in terms of their morphisms (Emmy Neother started this idea) and another was the idea of `natural' operations that we could perform on such objects. For example, functions between groups should preserve the group structure in order to be consider morphisms of groups and the isomorphisms between finite dimensional vector spaces and their duals depending on a chosen basis are instances of these ideas showing up. \par

Category theory was particularly important in (re)developing the foundatinos of algebraic topology. Euler characteristic was the first known result of a `topological invariant.' Riemann studied connectivity of complex varieties (zero sets of polynomial equations); for example disconnecting a sphere can be done with one circle and disconnecting a torus requires at least two. M\"obius strips were a first instance of studying orientability of surfaces. Betti numbers were inspired by Riemann's connectivity of surfaces to quantify connectivity in higher dimensions using higher dimensional spheres and boundary relations. Poincare studies solutions to differential equations on algebraic varieties and found betti numbers played an important role in these questions; he introduced torsion coefficients to capture the monodromy. Nowadays we see Betti numbers as ranks of abelian groups that show up in the study of what we now know as (singular) hoomology.\par

Emmy Noether was the first to suggest studying the algebraic complexes associated to spaces, specifically we should study the `holes' in a complex directly as the equivalence classes of cycles in the complex modulo their boundaries. This also led to Alexandrov's theory of `continuous decompositions' which is essentially the perspective of (the image of) a continuous map as a bundle of fibers above points in its codomain. Homology doesn't intertwine the group structure and the topological structure, it relates continuous maps with group homomorphisms. I'll ask for a link to her slides, anyway category theory will help us contextualize relationships between mathematical objects and state and prove more precise statements about them. 


\section{Jan 8th}

A category is an abstract setting where \textit{composition} makes sense. 

\begin{defn}
A category is a directed multigraph, $(\cC_0, \cC_1)$ along with an associative and unital algebra of paths. 
\end{defn}

\noi The directed multigraph tells you what the `objects' and `arrows' are and the algebra of paths says arrows whose domain and codomain agree can be composed. The objects of $\cC$ are denoted $\cC_0$ and the arrows are denoted $\cC_1$. Let $d_0 : \cC_1 \to \cC_0$ denote the function that picks out the domain of an arrow and $d_1 : \cC_1 \to \cC_0$ the function that picks out the codomain. The path algebra says that for any $f, g \in \cC_1$, if $d_1(f) = d_0(g)$ then there exists a unique composite $g \circ f \in \cC_1$ whose domain and codomain agree with those of $f$ and $g$ respectively:

\[ \begin{tikzcd}[column sep = large, row sep = large]
  A \rar["f"] \ar[dr, dashed, "g \circ f"'] & B \dar["g"] \\
  & C
\end{tikzcd}\]

\noi Associativity of the path algebra encodes associativity of arrow  composition in the category $\cC$. 

\[ h \circ (g \circ f) = (h \circ g) \circ f,\]

\noi The constant paths in the path algebra correspond to identity arrows, $1_A : A \to A$, and satisfy an identity law,

\[ 1_B \circ f = f = f \circ 1_A \]

\noi for any $f : A \to B$.

\begin{egs*}
Here are a bunch of examples you can verify yourself. To show something is a category you need to check there are well-defined objects, arrows, composition, identities, and that identity and associativity laws for composition hold. 
\begin{enumerate}[label=(\alph*)]
\item The category of sets and functions is a category with function composition. 

\item The category of groups and group homomorphisms is a category again with function composition. 

\item Vaguely but more generally speaking the category of (algebraic thing) with (algebraic thing) homomorphisms is a category. There's a way to talk about these kinds of `algebraic theories' more generally that we'll encounter later in the course!

\item Any directed multigraph can be made into a category by freely adding finite paths and identities.
 
\item The small categories $\mathbb{1}$ and $\mathbb{2}$ have as many objects and one less non-identity arrow. The first one is pictured below: 

\[ \begin{tikzcd}
  A \arrow[loop right] 
\end{tikzcd}\]

\item The category of topological spaces and continuous  maps between them is a category. 

\item Any set with a pre-order defines a category whose objects are the elements of the set and whose arrows are determined by the pre-order relation. 

\item If $\cC$ is a category and $X \in \cC_0$ is an object, the \textit{slice category over $X$}, $\cC/X$, has arrows in $\cC$ with codomain $X$ as its objects and commuting triangles (over $X$) in $\cC$ as its arrows. Composition and identities are inherited from $\cC$.
\end{enumerate}

\end{egs*}


\subsection{January 12th}
I missed this class for a tennis tournament, we wrote down some definitions and talked about the path category associated to a directed (multi)graph. We talked about $\mathbf{Rel}$ and $\mathbf{Par}$ as further examples.  

\subsection{January 15th} 

\begin{defn}
The \textit{dual} of a category $\cC$ is denoted $\cC^{op}$. It has the same objects as $\cC$ and the arrows are determined by those in $\cC$ but are written in the opposite direction: 

\[ \cC^{op} (A,B) = \cC (B,A) \]
\end{defn}

\begin{egs*}
\begin{enumerate}
\item Check that $\cC^{op}$ is in fact a category. 
\item The category $\mathbf{Rel}$ is isomorphic to its opposite, $\mathbf{Rel}^{op}$. 
\item The category $\mathbf{Mat(R)}$ has natural numbers as objects and arrows $m \to n$ are $n \times m$-matrices with coefficients in the ring $R$. Composition is matrix multiplication and identites are the identity matrices. 
\end{enumerate}
\end{egs*}

Now that we have some examples of categories, let's look at some properties that arrows in a category may have. 

\begin{defn}
An arrow $f : A \to B$ is a \textit{monomorphism} if $g \circ f = h \circ f$ implies $g = h$. In pictures, if the diagram

\[ \begin{tikzcd}
  A \rar["f"] & B \rar[shift left, "g"] \rar[shift right, "h"'] & C
\end{tikzcd}\]
\noi commutes, then $g = h$. 
\end{defn}

\begin{egs*}
What are the monomorphisms in $\Set$? $\Grp$? $\Rel$?  
\end{egs*}

\noi The dual notion of a monomorphism is an epimorphism. It can be defined as a monomorphism in the opposite category or that result can be proven from the following definition: 

\begin{defn}
An arrow $f : A \to B$ is an \textit{epimorphism} if $f \circ g = f \circ h \circ f$ implies $g = h$. In pictures, if the diagram

\[ \begin{tikzcd}
  C \rar[shift left, "g"] \rar[shift right, "h"'] & A \rar["f"] & B 
\end{tikzcd}\]
\noi commutes, then $g = h$. 
\end{defn}

\begin{egs*}
  What are the epimorphisms in $\Set$? $\Grp$? $\Rel$?  
\end{egs*}

\begin{prop}
The mono/epimorphisms in $\cC$ are precisely the epi/monomorphisms in $\cC^{op}$ respectively. 
\end{prop}

\begin{defn}
An arrow with a left (post-compositional) inverse is called a \textit{retraction} and an arrow with a right (pre-compositional) inverse is called a \textit{section}. 
\end{defn}

\begin{egs*}
An \textit{inverse} of an arrow is a left and a right inverse. Show that such an arrow is necessarily unique. 
\end{egs*}

\begin{defn}
An \textit{isomorphism} is an arrow with a left and right inverse. 
\end{defn}

\begin{egs*}
Find or construct a category with at least one arrow that's monic and epic but not an isomorphism. 
\end{egs*}

\begin{lem}
If $g \circ f$ is monic then $f$ is monic and if $g \circ f$ is epic then $g$ is epic. 
\end{lem}
\begin{proof}
These are dual statements, it suffices to prove one.
\end{proof}

\begin{lem}
The following are equivalent: 
\begin{enumerate}[label=(\alph*)]
\item The map $f : A \to B$ is an isomorphism. 
\item $f$ is an epic section 
\item $f$ is a monic retraction 
\end{enumerate}
\end{lem}
\begin{proof}
\end{proof}

\begin{defn}
A \textit{subobject} is an equivalence class of monomorphisms with a common codomain. Two mono's with a common codomain represent the same subobject if they're isomorphic in the slice category over that coodmain. 
\end{defn}



\begin{defn}
An \textit{idempotent} is an arrow $e : A \to A$ such that $e^2 = e$.
\end{defn}

\noi Dorette thinks about these as `really nice subobjects.'  We'll hear about why next class when we talk about partially defined maps a bit more. 

\subsection{January 17th}

\begin{egs*}
Let $r : A \to B$ be a retraction of $s: B \to A$, a section. Then $r \circ s = 1$ implies $ (s \circ r)^2 = s \circ r$ is idempotent. 
\end{egs*}

\noi Not every subobject gives an idempotent because there may not be a projection onto that subobject; equivalently: not every projection has a global section. Idempotents that can be given this way are called $\textit{split idempotents}$. In $\Set$ for example, every idempotent $e : X \to X$ splits, via its image, as a retraction followed by a section: 

\[ \begin{tikzcd} 
  X \rar[rr, "e"] \ar[dr,two heads, "r_e"'] && X \\
  & \im e  \ar[ur, hookrightarrow, "s_e"]
\end{tikzcd}\]

\noi where $r_e$ is just $e$ with a restricted codomain and $s_e$ is subset inclusion. 

\begin{prop}
Idempotent splittings are unique in the sense that for any two splittings $e = s \circ r$ and $e = r' \circ s'$ of an idempotent $e$ there exists a unique isomorphism $h : \dom s \to \dom s'$ such that $h \circ r = r'$ and $s' \circ h = s$. 
\end{prop}
\begin{proof}
Define $h = r' \circ s$ and check that everything works. The inverse is $h^{-1} = r \circ s'$. 
\end{proof}

\begin{cor}
Split idempotents correspond to subobjects. 
\end{cor}

\begin{defn}
The universal way to split idempotents in a category $\cC$ is called the `Karoubi envelope.' This is a new category whose objects are the idempotents in $\cC$ and whose arrows $f : e_1 \to e_2$ are given by arrows $f : \dom e_1 \to \dom e_2$ in $\cC$ such that $e_2 \circ f \circ e_2 = f$ so the diagram 

\[ \begin{tikzcd}[column sep = large, row sep = large]
  A \dar["f"'] \ar[dr, "f"] \rar["e_1"] & A \dar["f"] \\
  B \rar["e_2"'] & B 
\end{tikzcd}\]
\end{defn}

Composition is given by stacking commuting squares

\[ \begin{tikzcd}[column sep = large, row sep = large]
  A \dar["f"'] \ar[dr, "f"] \rar["e_1"] & A \dar["f"] \\
  B \rar["e_2"'] \dar["g"'] \ar[dr, "g"] & B \dar["g"] \\
  C \rar["e_3"'] & C
\end{tikzcd} = 
\begin{tikzcd}[column sep = large, row sep = large]
  A \dar["g \circ f"'] \ar[dr, "g \circ f"] \rar["e_1"] & A \dar["g \circ f"] \\
  C \rar["e_3"'] & C 
\end{tikzcd}\]

\noi and the identity arrow on $e$ is $e$. 

\[ \begin{tikzcd}[column sep = large, row sep = large]
  A \dar["e"'] \ar[dr, "e"] \rar["e"] & A \dar["e"] \\
  A \rar["e"'] & A 
\end{tikzcd}\]

\begin{egs*}
For the category of open subsets of $\mR^n$ and the smooth functions between them, the Karoubi envelope is the category of (smooth) manifolds. This relies on the tubular neighborhood theorem for manifolds (that you can embed them in $\mR^n$ and thicken them with an interval to get an open subset of $\mR^n$). \par

\noi In a similar fashion, vector bundles form the karoubi envolope of the category of trivial bundles. \par
\end{egs*}

The original category $\cC$ embeds into the Karoubi envelope: 

\[ \cC \to Kar(\cC) \]

\noi by sending each object to its identity map and arrows to the obvious squares. Notice this assignment preserves the `category structure{,}' namely identities and composition.\par 

Split epimorphisms are exmaples of arrows that factor in a universal way as a composite of arrows from two special classes of arrows. A factorization system in a category describes when every arrow factors as a composite of two arrows from two special classes of arrows. An example of a factorization system in $\Set$ is the epi-mono factorization which comes from noticing that every function $f: A \to B$ factors as an epimorphism (given by restricting its codomain to the image) followed by a monomorphism (given by including the image as a subset). 

\begin{defn}
Let $\cE, \cM \subseteq \cC_1$ be two classes of arrows that are closed under composition and both containing the identity arrows. Then $\cC$ has an $\cE$-$\cM$ factorization system if every arrow in $\cC$ factors as a composite of an arrow in $\cE$ followed by an arorw in $\cM$ and this factorization is unique up to a unique map between the intermediate objects. We write arrows in $\cE$ with two heads and arrows in $\cM$ with tails, the universal property looks like: 

\[\begin{tikzcd}[column sep = large, row sep= large]
  & X \ar[dr] & \\
  A \ar[ur] \ar[dr] \rar[rr, "f"] && B \\
  & Y \ar[ur]\ar[from=uu, bend right, crossing over, "\exists !" near end, "\cong"'] & 
\end{tikzcd}\]
\end{defn}

\subsection{January 9th}

Today we start with the notion of orthogonality (of arrows in a category). 

\begin{defn}\label{def orthogonal arrows}
Let $f : A \to B$ and $g : C \to D$ be two arrows in a category $\cC$. We say `$f$ is \textit{left orthogonal} to $g$' or `$g$ is \textit{right orthogonal} to $f${,}' and we write $f \perp g$ if every commutative diagram 

\[ \begin{tikzcd}[column sep = large , row sep = large]
  A \dar["f"'] \rar["h_1"] & C\dar["g"] \\
  B \rar["h_2"'] & D
\end{tikzcd}\]

\noi has a unique filler 

\[ \begin{tikzcd}[column sep = large , row sep = large]
  A \dar["f"'] \rar["h_1"] & C\dar["g"] \\
  B \ar[ur, dashed, "k"] \rar["h_2"'] & D
\end{tikzcd}\]

\noi making each of the triangles commute. 
\end{defn}

\begin{rem*}
If $f \perp g$ in $\cC$ then $g^{op} \perp f^{op}$ in $\cC^{op}$. 
\end{rem*}

\begin{egs*}\
\begin{enumerate}[label=(\alph*)]
\item Every epimorphism is left orthogonal to every monomorphism in $\Set$. 
\item For $f : \{0,1\} \to \{ *\}$ the right orthogonal arrows are functions with singleton fibers. This is required to ensure uniqueness of the filler since $h_1 : \{0,1\} \to C$ is able to separate points in $\cC$ and having singleton fibers is another way to say the function is injective. 
\end{enumerate}
\end{egs*}

\noi We say $f$ is \textit{weakly} orthogonal to $g$ if the filler, $k$, in Definition~\ref{def orthogonal arrows} exists but is not unique. 


\begin{egs*}\
  \begin{enumerate}[label=(\alph*)]
  \item For $\emptyset \to \{*\}$ (in $\Set$), the weakly right orthogonal arrows are the surjective functions. The (strictly) right orthogonal arrows are the bijections. To see why, ask yourself `what do the fibers of such a map have to be?' 
  \item In $\Top$, the weakly right orthogonal maps to the inclusion $\{0\} \hookrightarrow [0,1]$ are those that have the path lifting property with respect to that inclusion. This class includes the covering maps but it also contains more! 
  \item 
  
  \end{enumerate}
\end{egs*}


\subsection{January 22nd} 

We have seen that in $\Set$ all epi's are left orthogonal to all mono's. In $\Set$, mono's are also weakly left orthogonal to epi's. 


\begin{defn}
Let $\cE, \cM \subseteq \cC_1$ be two classes of arrows in $\cC$. We say $\cE$ is left orthogonal to $\cM$ if every arrow in $\cE$ is left orthogonal to every arrow in $\cM$. 
\end{defn}

\noi What if we want to add stuff into $\cE$ and $\cM$? 

\begin{defn}
The class of arrows that are right orthogonal to all arrows in $\cE$ is denoted $\cE_\perp$. The class of arrows that are left orthogonal to all arrows in $\cM$ are denoted $\tensor[_\perp]{\cM}{}$.
\end{defn}

\begin{prop}
For any class of arrows $\cE$ we have that $\cE_\perp$ contains all iso's, $ {_\perp}(\cE_\perp) \supseteq \cE$.
\end{prop}
\begin{proof}
\end{proof}

\begin{prop}
The class of arrows left orthogonal to the class of isomorphisms is all of the arrows: $_\perp Iso = \cC_1$. 
\end{prop}

\begin{prop}
Claim| $ ({_\perp}(\cE_\perp))_\perp = \cE_\perp$
\end{prop}
\begin{proof}
Suppose $A \subseteq A'$, then $A_\perp \supseteq A'_\perp$ and $_\perp A \supseteq \perp A'$ so that 

\[ A \subseteq _\perp(A_\perp). \]
\noi Applying $\perp$ once more on the right we get 
\[ A_\perp \supseteq (_\perp (A_\perp))_\perp \]

\noi and also we have $(\perp(A_\perp))_\perp \supseteq A_\perp$. This shows both subset inclusions and the equality follows. 
\end{proof}

\begin{prop}
For any class of arrows $A$ there are two maximal classes of arrows $A_1$ and $A_2$ such that $(A_1)\perp = A_2$ and $_\perp(A_2) = A_1$ and $A_1 \supseteq A$. 
\end{prop}
\begin{proof}
Let $A_1 = _\perp (A_\perp)$ and let $A_2 = A_\perp$. 
\end{proof}

\begin{lem}
  Let $A \subseteq \cC_1$ be a class of arrows.
\begin{enumerate}
\item Isomorphisms are right (and left) orthogonal to $A$. \medskip 
\item If $x \in A \cap A_\perp$ then $x$ is an iso. \medskip
\item $A_\perp$ and ${_\perp}A$ are closed under composition. \medskip
\item If $h \circ g \in A_\perp$ and $h$ is monic then $g \in A_\perp$. Is the dual statement: if $g \circ h \in {_\perp}A$ and $g$ is epic then $h \in  {_\perp}A$?  \medskip
\item If $h \circ g \in A_\perp$ and $h \in A_\perp$ then $g \in A_\perp$. Write down the dual statement. 
\end{enumerate}
\end{lem}
\begin{proof}
Exercise in diagram chasing and unraveling definitions. 
\end{proof}

\begin{defn}
A factorization system in a category $\cC$ is a pair $(\cE, \cM)$ of classes of arrows $\cE, \cM \subseteq \cC_1$ such that $\cE$ and $\cM$ contain all iso's, $\cE$ and $\cM$ are closed under composition, and every map $f$ factors as $f = g \circ h$ where $h \in \cE$ and $g \in \cM$ uniquely up to a unique isomorphism (between the mediating object(s) in the middle). 
\end{defn}


\subsection{January 24th}

\begin{prop}
  If $(\cE, \cM)$ is a factorization system in $\cC$ then
  
  \begin{enumerate}[label=(\alph*)]
  \item $\cE $ is left orthogonal to $cM$
  \item Factorizations extend to commutative squares.
  \end{enumerate} 
  \end{prop}
  \begin{proof}
  \begin{enumerate}
    Consider the lifting problem: 
    \[\begin{tikzcd}
      A \rar["a"] \dar[two heads,"e"'] & A' \dar[tail, "m"] \\
      B \rar["b"'] & B'
      \end{tikzcd}\]

  \noi where the two headed arrow is in $\cE$ and the arrow with a tail is in $\cM$. We factor both the top and bottom arrows and obtain a filler by uniqueness of factorizations: 

  \[\begin{tikzcd}[column sep = large, row sep = large]
    A \rar[two heads, "e_a"] \dar[two heads,"e"'] & E_A \rar[tail, "m_a"] &  A' \dar[tail, "m"] \\
    B \rar[two heads, "e_b"'] & E_B \uar[dashed, "k"] \rar[tail, "m_b"] & B'
    \end{tikzcd}\]

  Notice $\ell = m_a \circ k \circ e_b$ solve the lifting problem. To see this solution is unique suppose there's another solution $\ell'$ and factor it

  \[\begin{tikzcd}[column sep =huge, row sep = huge]
    \bullet && \bullet && \bullet \\
    & \bullet \\
    \bullet && \bullet && \bullet
    \arrow["e"', two heads, from=1-1, to=3-1]
    \arrow["{e_a}", two heads, from=1-1, to=1-3]
    \arrow["{e_{\ell'}}", two heads, from=3-1, to=2-2]
    \arrow["\theta", dashed, from=2-2, to=1-3]
    \arrow["{m_a}", tail, from=1-3, to=1-5]
    \arrow["{m_{\ell'}}", tail, from=2-2, to=1-5]
    \arrow["\ell"', bend left=-6, from=3-1, to=1-5]
    \arrow["{\ell'}"', bend left=6, from=3-1, to=1-5]
    \arrow["{e_b}"', two heads, from=3-1, to=3-3]
    \arrow["{m_b}"', tail, from=3-3, to=3-5]
    \arrow["m", tail, from=1-5, to=3-5]
    \arrow["{\theta'}", dashed, from=3-3, to=2-2]
\end{tikzcd}\]

\noi By uniqueness we have $\theta \circ \theta'  = k$ and consequently $\ell = \ell'$:

\begin{align*}
\ell 
&= m_a \circ k \circ e_b \\
&= m_a \circ \theta \circ \theta' \circ e_b \\
&= m_{\ell'} \circ \theta \circ e_b \\
&- m_{\ell'} \circ e_{\ell'}\\
&= \ell' .
\end{align*}

\noi It follows that the lift $\ell$ is unique. \medskip 

\item Factor the vertical arrows in a commuting square, squish it into a (rectangular) lifting problem that can be uniquely solved.   
\end{enumerate}
\end{proof}\medskip 

\begin{defn}
Given a class $\cE$ of maps we say that an arrow $f$ in in $\cC$ has a maximal $\cE$-factorization if it can be factors as $f = f' \circ e $ with $e \in \cE$ such that for all commutative squares there exists a unique filler as in the diagram below: 

\[ \begin{tikzcd}[column sep = large, row sep = large]
  \bullet \rar[] \dar[dd,"g'"'] & \bullet \dar["e"'] \\
  & \bullet \dar["f"']\\
  \bullet \ar[ur, dashed]\rar[] &\bullet
\end{tikzcd}.\] 

\noi We say $\cC$ has a maximal $\cE$-factorization if every arrow in $\cC$ has a maximal $\cE$-factorization. 
\end{defn}

\noi The dual concept is a \textit{maximal $\cM$-cofactorization system}.

\begin{prop}
The following are equivalent: 

\begin{enumerate}
\item There are two classes $\cE$ and $\cM$ such that 
  \subitem $\cE$ is left orthogonal to $\cM$ 
  \subitem $\cE$ is closed under (post-)composition with iso's. 
  \subitem $\cM$ is closed under (pre-)composition with iso's. 
  \subitem Each map $f$ can be factored as $f = m \circ e$ for $e \in \cE$ and $m \in \cM$.

\item $(\cE, \cM)$ is a pair of maximal orthogonal classes of maps such that every map in $\cC$ factors as $m \circ e$ for some $m \in cM$ and $e \in cE$. 
\item $\cE$ is a class of maps containing all iso's and closed under composition such that each map $f \in \cC$ can be factored as a maximal $\cE$-factorization 
\item $\cM$ is a class of maps closed under composotion and containing all iso's such that every map factors as a maximal $\cM$-factorization. (dual to the previous one)
\item $(\cE, \cM)$ is a factorization system. 
\end{enumerate}
\end{prop}
\begin{proof}
Next class. 
\end{proof}

\subsection{January 26th}

Today we prove the previous lemma. Dorette wrote the proof down beforehand so I'm not going to live-TeX all of it, I'll just give sketches/hints.Before that, a correction from a couple classes back:

Consider the lifting problem: 

\[ \begin{tikzcd}
  \{0,1\} \dar[] \rar[] & X \dar[] \\
\{*\} \rar[] \ar[ur, dashed] & Y \end{tikzcd}\]

\noi The square can only commute if the top horizontal arrow agrees on the fiber of $g$ above the point picked out by the bottom arrow. A lift such as the dashed line above then exists whenever $g$ only has empty or singleton fibers above each point. In this case weak orthogonality implies orthogonality. 

\begin{proof}[(Sketch) of last Proposition]
The third and fourth statements are duals so we only deal with the third. We show a chain of implications in the order they're stated skipped the fourth by duality. \bigskip

For $(1)$ implies $(2)$ we only need to show maximality of either $\cE$ or $\cM$. We have one of the containments in the assumption so show the other one. For this you pick $g \in \cE$ or $\cM$, factor it, and find a lift to show one of the maps is a section/retraction (depending on which one you started proving). Use that unique lift to find a lift for another square with both sides of it given by the same factorization of $g$. This gives a way to write $g$ factoring through an iso and shows $g$ satisfies the required maximality property \bigskip 

For $(2) \implies (3)$, `closed under composition' and `containing all iso's' was proved in a previous class so we only need to show that the factorization is maximal. Play two factorizations against each other to set up a lifting problem with a unique solution. We ran into some issues with this proof so we're leaving it as an exercise. \bigskip

For $(3) \implies (5)$, suppose you have $\cE$ and define $\cM$ to be all the maps whose maximal factorization, $f = f' \circ e$ has $e$ being an isomorphism. Check all the axioms for a factorization system are defined using the maximality property of the factorization $\cE$-factorizations. \bigskip

For $(5) \implies (1)$, suppose you have a factorization system. We only need to show $\cE$ is left orthogonal to $\cM$. Set up the lifting problem, factor the horizontal arrows and use closure under composition of $\cE$ and $\cM$ along with uniqueness of factorizations to solve the lifing problem uniquely. \bigskip


\end{proof}

\subsection{Jan 29}

Snow day and Dorette was sick so no class.

\subsection{Jan 31st}

One last thing about factorization systems: 

\begin{lem}
If $(\cE, \cM)$ is a factorization system for $\cC$ then 

\begin{enumerate}
\item If $g \circ f \in \cM$ and $g \in \cM$ then $f \in \cM$
\item If $g \circ f \in \cM$ and $f \in \cE$ then $g \in \cE$
\item $\cM$ contains all sections iff all $\cE$ maps that are sections are iso's. 
\item $\cE$ contains all retractions iff all $\cM$ maps that are retractions are iso's. 
\end{enumerate}
\end{lem}
\begin{proof}
\end{proof}

\begin{egs*}
Isomorphisms with all the other arrows in any category (in either order) forms a factorization system. Epimorphisms and monomorphisms in $\Set$, $\Grp$, $\Top$, form factorization systems and in the category of rings localizations and conservative morphisms form another important one in algebraic geometry. 
\end{egs*}

\begin{defn}
A functor $F : \cC \to \cD$ assigns objects to objects and arrows to arrows 

\[ F_0 : \cC_0 \to \cD_0 , \quad F_1 : \cC_1 \to \cD_1\]

\noi such that domains, codomains, identities, and composition are all preserved. 
\end{defn}

\begin{egs*}
We can pick out objects, arrows, isomorphisms, in a category by looking at functors into out from $\mathbb{1}, \mathbb{2},$ and the `walking isomorphism' category (with 2 objects and 2 non-identity arrows that mutually inverse). 
\end{egs*}




\subsection{Feb 7}

We're wrapping up a proof from the factorization system business. Namely that given a maximal $\cE$-factorization for every arrow we can define $\cM$ to be the arrows whose maximal $\cE$-factorizations have an isomorphism as the $\cE$-factor in the factorizaiton. \medskip 

To see we can $\cE$-$\cM$ factorizations notice we can factor maximal $\cE$-factorizations, $f = f' \circ e$, twice by factoring the non-$\cE$ factor, $f' = f'' \circ e'$. Then show $e'$ is an isomorphism by leveraging the modified lifting property in the square: 

\[\begin{tikzcd}[column sep = large, row sep = large]
	\bullet & \bullet \\
	\bullet & \bullet \\
	\bullet & \bullet
	\arrow["e"', from=1-1, to=2-1]
	\arrow["{e'}"', from=2-1, to=3-1]
	\arrow["k", dashed, from=3-1, to=2-2]
	\arrow[equals, "", from=1-1, to=1-2]
	\arrow["e", from=1-2, to=2-2]
	\arrow["{f'}", from=2-2, to=3-2]
	\arrow["{f''}"', from=3-1, to=3-2]
	\arrow[dashed, from=2-1, to=2-2]
\end{tikzcd}\]

\noi Now show $k \circ e' =1$ and $e' \circ k = 1$ by chasing diagrams/equations. That concludes the proof. \bigskip 

\begin{eg*}
Let $\varphi : A \to B$ be a ring homomorphism between unital commutative rings. We say $\varphi$ \textit{inverts} $a \ in A$ if $\varphi(a)$ is invertible in $B$. \medskip 

We say $\varphi$ is \textit{conservative} if it doesn't create new inverses, ie.~if $\varphi$ inversts $a$ then $a$ is invertible in $A$. If $S \subseteq A$ has no zero-divisor (and multiplicatively closed) then there exists a ring $S^{-1} A$ and ring homomorphism 

\[ \ell : A \to S^{-1} A\]

\noi called the \textit{localization of $S$} satisfying the universal property that for any $\varphi : A \to B$ that inverts all the elements of $S$ there exists a unique map $S^{-1} A \to B$ factoring $\varphi$ through $\ell$: 

\[ \begin{tikzcd}
  A \ar[dr, "\ell"'] \rar[rr, "\varphi"] && B \\
  & S^{-1}A \ar[ur, dashed, "\exists !"']
\end{tikzcd}\]

\noi From here we can see that every ring homomorphism factors as a localization followed by a conservative map: given $\varphi : A \to B$ take $S$ to be the set of all $a \in A$ such that $\varphi$ inverts $A$; this set has no zero-divisors and the unique map induced by the localization in the diagram above doesn't create new inverses because everyone who could've been inverted already was. As a result we get a factorization system of localizations and coservative ring homomorphisms. 
\end{eg*}

\begin{rem}
The previous factorization system example works for rings. A similar localization construction works for categories but we can't do quite the same thing to make a factorization system; we need to take a colimit of all the factorizations. 
\end{rem}

\begin{defn}
A \textbf{subcategory} $\cA$ of a category $\cB$ consists of a collection of objects and arrows in $\cB$ that contains all identities and is closed under composition. 
\end{defn}

Note that if $f : A \to A'$ is monic in $\cA$ then it doesn't need to be monic in $\cB$ necessarily, as $\cB$ could have more arrows than $\cA$ that mess things up. However, if $g : B \to B'$ is monic in $\cB$ and contained in $\cA$ then it's still monic in $\cA$ because it satisfied a stronger condition in $\cB$. \medskip 

In general, when we look at functors $F: \cA to \cB$ we often ask whether they \textit{preserve} or \textit{reflect} certain properties. 

\begin{defn}
A functor $F : \cA \to \cB$ \textbf{preserves} property $P$ if $F(f)$ has property $P$ whenever $f$ has property $P$. \medskip 

It \textbf{reflects} property $P$ if $f$ has property $P$ whenever $F(f)$ has property $P$. 
\end{defn}

\begin{egs*}
All functor preserve isomorphisms. Localizations wouldn't be very interesting if all functors reflected isomorphisms. An explicit counter example is any functor out of the walking arrow category that picks out an isomorphism, pick your favourite one. \medskip 

Monomorphisms don't necessarily get preserved or reflected by arbitrary functors. Counter-examples will be in the next assignment.\medskip 
\end{egs*}

\noi Let's look at some properties of functors. Monic, epic, and iso are all standard properties of arrows in a category. Similar properties exist for functors but there are some subtle variations. 

\begin{defn}
A functor $F : \cA \to \cB$ is \textbf{full} if all of the induced functions on hom-sets 

\[ \cA(A, A') \to \cB(FA, FA')\]

\noi are surjective. 
\end{defn}

\begin{defn}
A functor $F : \cA \to \cB$ is \textbf{faithful} if all of the induced functions on hom-sets 

  \[ \cA(A, A') \to \cB(FA, FA')\]
  
\noi are injective. 
\end{defn}

\begin{defn}
A functor $F : \cA \to \cB$ is \textbf{essentially surjective} if for all $B \in \cB$ there exists an isomorphism $FA \cong B$ for some $A \in \cA$. 
\end{defn}


\subsection{Feb 9}

\begin{defn}
A functor $F$ is \textbf{replete} if its image is closed under isomorphism. That is, whenever $B \cong FA$ there exists a $A'$ such that $B = FA'$. 
\end{defn}

\begin{rem}
A \textbf{contravariant functor} $\cC \to \cD$ is a functor $\cC^{op} \to \cD$; it flips the direction of arrows. 
\end{rem}

\begin{egs*}\
\begin{enumerate}
\item Functors $\mB G \to \mB H$ correspond to group homomorphisms $G \to H$. \medskip

\item The assignment $\mB(-) : \Grp \to \Cat$ is a functor sending each group $G$ to its \textit{delooping} $\mB G$. As mentioned, group homomorphisms get mapped to functors between the groupoids.  \medskip

\item If $P$ and $Q$ are preorders regarded as categories, the functors between them are precisely the order-preserving functions between them. \medskip 

\item Representing a preorder as a category is a functor from the cateogory of pre-ordered sets with order preserving functions to $\Cat$. \medskip 

\item For any category $\cC$ there's a unique functor 
\[ ! : \cC \to \mathbb{1} \]
\noi For this reason we call $\mathbb{1}$ the \textbf{terminal category}. \medskip 

\item Similarly there's a unique functor to any category $\cC$ from the empty category $\emptyset$
\[ \emptyset \to \cC \]
\noi which gives us reason to call $\emptyset$ the \textbf{initial category}. \medskip 

\item Consider the power-set functor
\[ \cP : \Set \to \Set \] 
\noi that sends functions $f : A \to B$ to the functions $\cP(f)$ defined on $U \subseteq A$ to its image in $B$
\[ \cP(f)(U) = f(U) \subseteq B . \]
\noi It's a routine exercise to check this preserves identities and composition. \medskip

\item Consider the other power-set functor 
\[ \cP^* : \Set^{op} \to \Set \]
\noi defined on functions $f : A \to B$ by the pre-image: $\cP^*(f) : \cP(B) \to \cP(A)$ defined on $V \subseteq B$ by 
\[ \cP^*(f) (V) = f^{-1}(V).\]\medskip 

\item Consider yet another power-set functor

\[ \cP : \Rel \to \Set \]

\noi defined by sending sets to their power sets and relations between them to their images: $R \subseteq A \times B$ 

\[ \cP(R) (U) = \{ b \in B \ | \ \exists a \in A . a R b \} \]\medskip 

\item Remember the arrow category $\cC^{\mathbf{2}}$. The reason we use this notation is because arrows in $\cC$ correspond precsiely to functors 

\[ \mathbf{2} \to \cC \]
\noi where $\mathbf{2}$ is the walking arrow category. \medskip

\item There's a functor
\[ \cC \to \cC^\mathbf{2} \]

\noi which sends objects to their identity arrows and arrows between them to the obvious commuting squares and there are two different functors 
\[ \cC^\mathbf{2} \to \cC \]
\noi given by projecting onto the domain and codomain components respectively. 
\end{enumerate}
\end{egs*}

There are several factorization systems on $\Cat$ and for that reason there are several ways of talking about `the image' of a functor. For instance, we'll talk about the `replete image' of a functor in these terms later. 

\begin{prop}
Let $\cE \subseteq \Cat_1$ denote the functors that are full and bijective on objects. The right class $\cM \subseteq \Cat_1$ consists of the faithful functors. This is a factorization system on $\Cat$. 
\end{prop}
\begin{proof}
Solving the lifting problem is left as an exercise. Dorette shows the factorization. For $F : \cC \to \cD$ we factor $F$ through the localization of $\cC$ by the congruence relation 

\[ f \sim g \iff F(f) = F(g).\]

\noi Another way to define this is by taking hom-sets to be the images of hom-sets in $\cC$ under $F$. The identification above happens implicitly then and we need to check that the composition is well-defined on representatives (in $\cC$) of maps in the image of $F$. Functoriality ensures the composition (and identities) are in fact well-defined.
\end{proof}



\subsection{February 12th}

Finishing up the last proposition and then looking at a parallel example of localization in $\Set$ factoring maps in $\Set$ through their images. This is another way to think of the isomorphism theorems 

\[ \begin{tikzcd}
  A \ar[dr,two heads] \rar[rr, "f"] &&B \\
  & A/ \sim_f \ar[ur, tail] &
\end{tikzcd}\]

\noi This idea generalizes to categories; namely the localization of a category. The equivalence relations defined on the hom-sets need to `play nicely' with the composition operation. In particular we need the equivalence relation to be a \textbf{congruence} on the hom-sets: if $f \sim g$ then 

\[ f \circ \ell \sim g \circ \ell , \quad k \circ f \sim k \circ g \]

\noi for any composable $k$ and $\ell$. Now the definition of a localization makes sense: 


\begin{defn}
The \textbf{localization} of $\cC$ by a \textit{congruence} on hom-sets is the category whose objects are those of $\cC$ and whose arrows are equivalcence classes in the hom-set quotients. 
\end{defn}  

Here are some other examples of facrization systems on $\Cat$. Some of these are from Robin's notes, some are from Andre Joyal's `catlab' blog. Feel free to google that, there's lots of cool stuff there.

\begin{egs*}
\begin{enumerate}
\item Let $\cE$ denote the essentially surjective functors and let $\cM$ be the replete, fully faithful, and injective on objects.  \medskip  
\item Let $\cE$ be the functors that are surjective on objects and let $\cM$ be the functors that are fully faithful and monic on objects. For $F : \cA \to \cB$ a functor, the intermediate category for this factorization has objects given by 

\[ F_0(\cA_0) \cup \{ B \in \cB_0 | \ \exists A \in \cA_0 . B \cong F(A)  \}\] 

\noi We needed the entire essential image of $F$ in $\cB$ for the objects, then take the of subcategory  $\cC$ that makes the inclusion fully faithful.This is called the \textbf{replete image} of $F$. \medskip 
\end{enumerate}
\end{egs*}

Now let's talk about functors in more than one variable. 

\[ F : \cA \times \cB \to \cC \]

\noi where $\cA \times \cB$ has objects $\cA_0 \times \cB_0$ and arrows $\cA_1 \times \cB_1$ with composition and identities defined coordinate-wise. \medskip 

\noi Notice that for each $A \in \cA_0$ we get a functor 

\[ F (A, -) : \cB \to \cC .\]

\noi Similarly for each $B \in \cB_0$ we get a functor 

\[ F(- , B) : \cA \to \cC .\]

\noi Functoriality in each coordinate is not enough to give functoriality on the product, we also need that they play nicely together. More precisely we need that $F_A (B) = F_B(A)$ agree on objects and that for $f : A \to A'$ in $\cA$ and $g : B \to B'$ in $\cB$ we require

\[ F_{A'}(g) \circ F_{B'}(f) = F_{B'}(f) \circ F_{A} (g) \]

\noi to ensure 

\[ F(1_{A'}, g) \circ F(f, 1_B) = F(f,g) = F(f, 1_{B'}) \circ F(1_A, g)\]

\noi is well-defined. \bigskip 

\begin{defn}
\textbf{Natural transformations} are structure-preserving maps between functors $F, G : \cA \to \cB$. A natural transformation $\alpha : F \implies G$ is a family of arrows 

\[ (\alpha_A : F(A) \to G(A))_{A \in \cA_0 }\subseteq \cB_1\]

\noi such that the following \textit{naturality square} commutes in $\cB$: for all $f : A \to A'$ in $\cA$, 

\[ \begin{tikzcd}[column sep = large, row sep = large]
F(A) \dar["F(f)"'] \rar["\alpha_A"] & G(A) \dar["G(f)"] \\
F(A') \rar["\alpha_{A'}"'] & G(A')
\end{tikzcd} 
\] 
\end{defn}

\begin{prop}
Natural transformations $\alpha : F \implies G$ can also be defined indexed by the families of arrows 

\[ (\alpha_f : F(A) \to G(A'))_{f \in \cA_1}\]

\noi such that a similar condition recovering naturality commutes. 
\end{prop}




\subsection{Feb 16}

A natural transformation $\alpha : F \implies G$ between functors $F, G : \cA \to \cB$ is a family of maps $\alpha_X : F(X) \to G(X)$ satisfying the following naturality condition:  for all $f : X \to Y$ in $\cA$

\[ \begin{tikzcd}
  FX \rar["\alpha_X"] \dar["Ff"'] & GX \dar["Gf"] \\
FY \rar["\alpha_Y"'] & GY
\end{tikzcd}.\]

\noi We call the maps $\alpha_X$ the \textbf{components} of the natural transformation $\alpha$. \textbf{Vertical composition} of natural transformations 

\[ \begin{tikzcd}F \rar[Rightarrow, "\alpha"] &  G \rar[Rightarrow, "\beta"] &  L \end{tikzcd}\]

\noi is given by composing their components in $\cB$. This defines a new natural transformation because pasting together naturality squares in $\cB$ gives new naturality squares: 

\[ \begin{tikzcd}[column sep = large]
  FX \ar[rr, bend left, "(\gamma \circ \alpha)_X"] \dar["Ff"'] \rar["\alpha_X"]& GX \dar["Gf"] \rar["\gamma_X"]& HX \dar["Lf"] \\
F Y \ar[rr, bend right, "(\gamma\circ \alpha)_Y"'] \rar["\alpha_Y"'] & GY \rar["\gamma_Y"]& HY
\end{tikzcd}.\]

\noi The identity transformation on a functor $F$ consists of identity components $1_F = (1_{F(X)})_{X \in \cA_0}$. This makes the collection of functors from $\cA$ to $\cB$, $\Cat(\cA, \cB)$, into a category. We know how to compose functors in $\Cat$ 

\[ \Cat(\cB, \cC) \times \Cat(\cA, \cB) \to \Cat(\cA,\cB).\]

\noi and if these homs are categories we could expect the composition of functors above to extend to a functor on the natural transformations as well. This \textbf{horizontal} composition can be defined in two ways. To see where the two possible definitions come from suppose $\alpha : F \implies G$ and $\beta : H \implies K$ are natural transformations where $F,G \in \Cat(\cA, \cB)$ and $H,K \in \Cat( \cB, \cC)$. Functors preserve commuting diagrams so applying $H$ and $K$ to the naturality squares of $\alpha$ in $\cB$ gives new commuting squares 

\[ \begin{tikzcd}
  HFX \rar["H\alpha_X"] \dar["HFf"'] & HGX \dar["HGf"] \\
HFY \rar["H\alpha_Y"'] & HGY
\end{tikzcd}\qquad ; \qquad 
\begin{tikzcd}
  KFX \rar["K\alpha_X"] \dar["KFf"'] & KGX \dar["KGf"] \\
KFY \rar["K\alpha_Y"'] & KGY
\end{tikzcd}\]


\noi which describe new natural transformations $H \circ \alpha : H \circ F \implies H \circ G$ and $k \circ \alpha : K \circ F \implies K \circ G$. This is called `whiskering $\alpha$ by $H$ and $K$' and the `$\circ$' notation is used for whiskering on this side because we're applying $H$ to the data of $\alpha$. On the other side, naturality of $\beta$ gives families of commuting squares 

\[ \begin{tikzcd}
  HFX \rar["\beta_{FX}"] \dar["HFf"'] & KFX \dar["KFf"] \\
HFY \rar["\beta_{FY}"'] & KFY
\end{tikzcd}\qquad ; \qquad 
\begin{tikzcd}
  HGX \rar["\beta_{GX}"] \dar["HGf"'] & KGX \dar["KGf"] \\
HGY \rar["\beta_{GY}"'] & KGY
\end{tikzcd},\]

\noi in $\cC$ which describe natural transformations $\beta_F: H\circ F \implies K \circ F$ and $\beta_G: H \circ G \implies K \circ G$. This is similarly called `whiskering $\beta$ by $F$ and $G$'. Whiskering $\alpha$ and $\beta$ by $H,K$ and $F,G$ respectively gives us four natural transformations which compose to give two possible definitions for horizontal composition $\beta \circ \alpha : H \circ F \implies K \circ G$:

\[ \begin{tikzcd}
  H \circ F 
  \rar[Rightarrow, "H\circ \alpha"]
   \dar[Rightarrow, "\beta_F"'] 
   & H \circ G \dar[Rightarrow, "\beta_G" ] \\
  K \circ F \rar[Rightarrow, "K\circ \alpha"'] & K \circ G 
\end{tikzcd}\]

\noi To see these definitions agree we need to check their components are equal, namely that the square 

\[ \begin{tikzcd}[column sep = large, row sep = large]
  H\circ F (X) \dar["\beta_{F(X)}"']  \rar["H(\alpha_X)"] & H \circ G (X) \dar["\beta_{G(X)}"] \\
  K \circ F (X) \rar["K(\alpha_X)"'] & K \circ G (X)
\end{tikzcd}\]

\noi commutes fpr each $X \in \cA_0$. All these squares commute because they are precisely the naturality squares of $\beta$ associated to the components of $\alpha$. If natural transformations are new to you and you need it to look exactly like the definition just redraw the square with the $\beta$'s horizontally instead of vertically.



\begin{comment}


\subsection{Yoneda's Lemma}

Categories are contexts for mathematical objects we care about that allow us to study them in terms of the morphisms between them. For example, sets are determined by their elements and one way to study a set, $S$, is to view it as an object in the category $\Set$, and then look at the functions 

\[ \{ * \} \to S  \]

\noi corresponding to the elements of $S$. This is a special example where it suffices to look at one kind of arrow in the category but it doesn't always work, for example in the category of abelian groups (and group homomorphisms) $\Ab$ the only such group homomorphism is $0$. \medskip 

When every map can be described in terms of\footnote[1]{I'm being vague, we haven't talked about limits/colimits yet. The category $\Set$ is completely determined by coproducts of its terminal object. I think this is called being well-copowered and being well-powered is the dual concept (with initial object and products)} maps out of the terminal object we can call these maps \textbf{elements}. If we can't do that, no problem, we just take all the maps with a common codomain and call them \textbf{generalized elements} (of their codomain). Think: 

\[ \left( X \to Y \in \cC \right) \quad  \rightsquigarrow \quad \text{ "An $X$-shaped thing in $Y$"} \]

\noi The collection of all these different shapes of things in $Y$ are the its generalized elements and they're encoded in the contravariant hom-functor 

\[ \cC(-,Y) : \cC^{op} \to \Set .\]

\noi Functors $F: \cC^{op} \to \Set$ are often called \textit{presheaves} and for each $X \in \cC_0$ the set $F(X)$ is often called the (set of) \textit{local sections} of $F$ at $X$. The hom-functors are special presheaves that represent the objects of $\cC$ in the category of presheaves on $\cC$ and people sometimes call them (the) \textit{representable(s)}~\footnote[2]{This is somewhat abusive: Representable functors are functors that are isomorphic to the hom-functors and that isomorphism is called a representation. One thinks of the object in $\cC$ as representing the functor in that case.}. It's straightforward to check that assigning each object in $\cC$ to its representable presheaf is itself a functor:

\[ \cC \to \Cat(\cC^{op}, \Set) \quad ; \qquad 
\left(\begin{tikzcd}
X \dar["f"] \\ 
Y
\end{tikzcd}\right) \mapsto 
\left( \begin{tikzcd}
  \cC(- , X) \dar["f \circ (-)"] \\
  \cC(-,Y)
\end{tikzcd}\right)
\]

\noi Yoneda's lemma says the natural transformations from a representable presheaf (on $X$) to another presheaf $F$ naturally correspond to the local sections of $F $ at $X$. 

\begin{thm}
For any functor $F : \cC^{op} \to \Set$ and every object $X \in \cC_0$, there exists an isomorphism 

\[ \Cat(\cC(-,X), F) \cong_{\varphi_X} F(X) \]

\noi that's natural in $X$ in the sense that for all $g : Y \to in \cC$ the naturality square

\[\begin{tikzcd}[column sep = large, row sep = large]
  \Cat(\cC(-,X), F) \dar[" (=) \cdot (g \circ (-)) "']\rar["\varphi_X"] & F(X) \dar["F(g)"] \\
  \Cat(\cC(-,Y), F) \rar["\varphi_Y"'] & F(Y)
  \end{tikzcd}\]

\noi commutes~\footnote[3]{The `$\cdot$' on the left vertical arrow denotes composition of natural transformations written in applicative order (right to left).}.
\end{thm}
\begin{proof}
For each $X \in \cC_0$ define 

\[ \varphi_X : \Cat(\cC(-,X), F) \to F(X) \]

\noi on a natural transformation $\alpha : \cC(-,X) \implies F$ by evaluating the component $\alpha_X : \cC(X,X) \to F(X)$ at the identity map $1_X \in \cC(X,X)$: 

\[ \varphi_X(\alpha) := \alpha_X(1_X) \]

\noi Now for each $x \in F(X)$ define components of a natural transformation $\psi_{X,x} : \cC(-,X) \implies F$ by evaluating maps in $\cC$ at $F$ and then evaluating the resulting functions at $x \in F(X)$: for every $g : Y \to X$ in $\cC_1$ 

\[ (\psi_{X,x})_Y : \cC(Y,X) \to F(Y) \quad ; \qquad (\psi_{X,x})_Y(g) := F(g)(x)\]

\noi Notice

\[(\psi_{X,x})_X(1_X) = F(1_X)(x) = 1_{F(X)}(x) = x .\]

\noi The induced function 

\[ \psi_X : F(X) \to \Cat(\cC(-,X), F) \quad ; \quad x \mapsto \psi_{X,x}\]

\noi is the inverse of $\varphi_X$. For each $x \in F(X)$

\begin{align*}
\left(\varphi_X \circ \psi_X \right) (x) 
&= \varphi_X(\psi_{X,x})\\
&= (\psi_{X,x})_X(1_X) \\
&=  F(1_X)(x)\\
&= 1_{F(X)}(x)
\end{align*}

\noi shows it's a one-sided inverse. For each natural transformation $\alpha : \cC(-, X) \implies F$ we get another natural transformation

\begin{align*}
(\psi_X \circ \varphi_X)(\alpha)
&= \psi_X (\alpha_X(1_X)) \\
&= \psi_{X, \alpha_X(1_X)} .
\end{align*}

\noi Evaluating each $Y$-compoenent at an arbitrary $g : Y \to X$ 

\begin{align*}
  (\psi_{X, \alpha_X(1_X)})_Y(g) 
  &= F(g) (\alpha_X(1_X)) \\
  &= F(g) \circ \alpha_X (1_X) \\
  &= \alpha_Y \circ (1_X \circ g)\\
  &= \alpha_Y \circ (g)
\end{align*}

\noi shows $(\psi_X \circ \varphi_X)(\alpha) = \alpha$ and so $\psi_X$ is a two-sided inverse of $\varphi_X$. The second to last equality used naturality of $\alpha$. \medskip 

Naturality of $\varphi$ is an exercise and potential homeowrk problem in type-checking and diagram chasing. For $g : Y \to X$ the function

\[ (=)\cdot (g \circ (-)) : \Cat(\cC(-,X) , F ) \to \Cat(\cC(-,Y) , F) \]

\noi is defined on a natural transformation $\alpha : \cC(-,X) \implies F$ by composing natural transformations $\alpha \cdot (g \circ (-))$. Recall that the $W \in \cC_0$ component of a composite is the composite of components: 


\[ 
\begin{tikzcd}[column sep = large]
\cC(W,Y) \rar["g \circ (-)"] & \cC(W,X) \rar["\alpha_W"] & F(W") 
\end{tikzcd}
\]
\end{proof}

\begin{cor}
The functor

\[ y : \cC \to \Cat(\cC^{op} , \Set) \quad ; \quad X \mapsto \cC(-,X)\]

\noi is fully faithful. 
\end{cor}
\begin{proof}

\end{proof}

\begin{cor}
The representing objects $X \in \cC_0$ of representable functors are unique. 
\end{cor}
\begin{proof}
\end{proof}

\begin{cor}
A presheaf $F : \cC^{op} \to \Set$ is representable if and only if the comma category $(y / \Delta_F)$ has a terminal object where $\Delta_F$ is the constant functor on $F$ and $y$ is the Yoneda embedding. 
\end{cor}
\begin{proof}
We haven't seen what a comma category is, but this is basically just unraveling definitions once we have those. Given the definition of a comma category with which to interpret the notation above, this could be a homework problem. 
\end{proof}
\end{comment}

\end{document}