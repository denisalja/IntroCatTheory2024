\documentclass[11pt]{amsart}
\usepackage{amssymb, amstext, amsthm, amscd, amsmath,color}
\usepackage{graphicx} 
\usepackage[margin = 1 in]{geometry}
\usepackage{tikz-cd}
\usepackage{cancel}
\usepackage{thmtools}
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{comment}
\usepackage{enumitem}
\usepackage{xargs}
\usetikzlibrary{
  knots,
  hobby,
  decorations.pathreplacing,
  shapes.geometric,
  calc,
  decorations.pathmorphing,
  shapes,
  decorations.markings
  }
\usepackage[hidelinks]{hyperref}
\usepackage{tensor}
\usepackage{mathpartir}
\usepackage[textsize=scriptsize]{todonotes}
\newcommand{\deni}[1]{\todo[color=blue!25]{{\bf Deni:} #1}}
\newcommand{\bigdeni}[1]{\todo[inline,color=blue!25]{{\bf Deni:} #1}}
%Hyperlinks
\hypersetup{
colorlinks=true,
linktoc=all
}
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem*{propp}{Proposition}
\newtheorem*{corr}{Corollary}
%   Theorem style with roman text
%   numbered within section
\theoremstyle{definition}
\newtheorem{rem}[thm]{Remark}
\newtheorem{rems}[thm]{Remarks}
\newtheorem{defn}[thm]{Definition}
\newtheorem*{defn*}{Definition}
\newtheorem*{rem*}{Remark}
\newtheorem*{eg*}{Example}
\newtheorem*{neg*}{Non-Example}
\newtheorem*{egs*}{Examples}
\renewcommand*{\proofname}{Solution}
\newcommand{\fty}{\infty}
\newcommand{\lam}{\lambda}
\newcommand{\mR}{{\mathbb R}}
\newcommand{\mZ}{{\mathbb Z}}
\newcommand{\mN}{{\mathbb N}}
\newcommand{\vep}{\varepsilon}
\newcommand{\mD}{{\mathbb D}}
\newcommand{\mC}{{\mathbb C}}
\newcommand{\mE}{{\mathbb E}}
\newcommand{\mP}{{\mathbb P}}
\newcommand{\mS}{{\mathbb S}}
\newcommand{\mT}{{\mathbb T}}
\newcommand{\mB}{{\mathbb B}}
\newcommand{\mF}{{\mathbb F}}
\newcommand{\mK}{{\mathbb K}}
\newcommand{\mL}{{\mathbb L}}
\newcommand{\mA}{{\mathbbl A}}
\newcommand{\cZ}{{\mathcal Z}}
\newcommand{\cA}{{\mathcal A}}
\newcommand{\cB}{{\mathcal B}}
\newcommand{\cP}{{\mathcal P}}
\newcommand{\cC}{{\mathcal C}}
\newcommand{\cD}{{\mathcal D}}
\newcommand{\cU}{{\mathcal U}}
\newcommand{\cE}{{\mathcal E}}
\newcommand{\cM}{{\mathcal M}}
\newcommand{\cV}{{\mathcal V}}
\newcommand{\cY}{{\mathcal Y}}
\newcommand{\cJ}{{\mathcal J}}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\rk}{rk}
\DeclareMathOperator{\id}{\mathsf{id}}
\newcommand{\Nat}{\mathrm{Nat}}
\newcommand{\cov}{\mathrm{cov}}
\newcommand{\cod}{\mathrm{cod}}
\newcommand{\dom}{\mathrm{dom}}
\newcommand{\Hom}{\text{Hom}}
%
\newcommand{\im}{\text{im}}

\newcommand{\Rel}{\mathbf{Rel}}
\newcommand{\PAb}{\mathbf{PAb}}
\newcommand{\PSh}{\mathbf{PSh}}
\newcommand{\Sh}{\mathbf{Sh}}
\newcommand{\Top}{\mathbf{Top}}
\newcommand{\Cat}{\mathbf{Cat}}
\newcommand{\Ch}{\mathbf{Ch}}
\newcommand{\bA}{\mathbf{A}}
\newcommand{\bB}{\mathbf{B}}
\newcommand{\bD}{\mathbf{D}}
\newcommand{\bP}{\mathbf{P}}
\newcommand{\Sp}{{\mathbf{Sp}}}
\newcommand{\Set}{{\mathbf{Set}}}
\newcommand{\Grp}{\mathbf{Grp}}
\newcommand{\Ab}{\mathbf{Ab}}
\newcommand{\Par}{\mathbf{Par}}
\newcommand{\Ring}{\mathbf{Ring}}
\newcommand{\fkm}{\mathfrak{m}}
\newcommand{\bG}{\mathbf{G}}
\newcommand{\bH}{\mathbf{H}}
\newcommand{\bbA}{{\mathbb{A}}}
\newcommand{\mbJ}{{\mathbf{J}}}
\newcommand{\mbX}{{\mathbf {X}}}
\newcommand{\mbY}{{\mathbf {Y}}}
\newcommand{\mbZ}{{\mathbf {Z}}}
\newcommand{\noi}{{\noindent}}
\newcommand{\mQ}{{\mathbb Q}}
\newcommand*\quot[2]{{^{\textstyle #1}\big/_{\textstyle #2}}}
\newcommand{\cO}{\mathcal{O}}
 %For Adjuncitons
 \tikzset{%
    symbol/.style={%
        draw=none,
        every to/.append style={%
            edge node={node [sloped, allow upside down, auto=false]{$#1$}}}
    }
}
%left adjoint on top adjunction
\newcommand*\ladj[4]{\begin{tikzcd}[column sep = large, row sep = large, ampersand replacement=\&]
{#1} \ar[r,bend left,"{#2}",
{name=A, below}] \&  {#3} \ar[l,bend left,"{#4}",
{name=B,above}] \ar[from=A, to=B, symbol={\dashv}]
\end{tikzcd} }
%right adjoint on top adjunction
\newcommand*\radj[4]{\begin{tikzcd}[column sep = large, row sep = large, ampersand replacement=\&]
{#1} \ar[r,bend left,"{#2}",
{name=A, below}] \&  {#3} \ar[l,bend left,"{#4}",
{name=B,above}] \ar[from=B, to=A, symbol={\dashv}]
\end{tikzcd} }
%left adjoint on top adjunction
\newcommand*\ladjvcomp[5]{\begin{tikzcd}[column sep = huge, row sep = huge, ampersand replacement=\&]
{#1} \ar[r,bend left = 50,"{#2}",
{name=A, below}] 
\ar[from = r,"{#3}", 
{name=B,above},{name=B',bottom}]
 \ar[r,bend right=50,"{#4}"',
{name=C,below}]
\& {#5}  \ar[from=A, to=B, symbol={\dashv}]
\ar[from=B, to=C, symbol={\dashv}]
\end{tikzcd} }
%HOM-ALG SHORTCUTS
%sequence tikzcd arrows: \seqtkz{domain}{name}{codomain = domain}{name}{codomain}
\newcommand*\seqtkz[5]{{\begin{tikzcd}[ampersand replacement=\&] 
 \cdots \rar \& { #1 } \rar["{#2}"] \&  { #3 } \rar["{#4}"] \&  { #5 } \rar \& \cdots \end{tikzcd}}}
%short exact sequence: \ses{ob1}{map1}{ob2 }{map2}{ob3}
\newcommand*\ses[5]{{\begin{tikzcd}[ampersand replacement=\&] 
 0 \rar \& { #1 } \rar["{#2}"] \&  { #3 } \rar["{#4}"] \&  { #5 } \rar \& 0 \end{tikzcd}}}
%induced les cohomology: \lesco{space}{A}{B}{C}{varphi}{psi}
\newcommandx*\lescoh[6]{{\begin{tikzcd}[ampersand replacement=\&] 
 0 \rar \& H^0({#1};{#2} )  \rar["{#5}^*"] \&  H^0({#1};{#3})  \rar["{#6}^*"] \&  H^0({#1};{#4} ) \rar["\delta^0"] \& \cdots \
  \cdots \rar["\delta^n"] \& H^n({#1};{#2})  \rar["{#5}^*"] \& H^n({#1};{#3})  \rar["{#6}^*"] \&  H^n({#1};{#4})  \rar \& \cdots  
  \end{tikzcd}}}
%Injective Resolution: \artkz{domain}{name}{codomain}
\newcommand*\injresl[3]{{\begin{tikzcd}[ampersand replacement=\&] 
{ #1 } \rar[tail, "{#2}"] \&  { #3 }^\bullet \end{tikzcd}}}
%Injective Resolution Open ended: \injreslo{domain}{name}{codomain}
\newcommand*\injreslo[5]{{\begin{tikzcd}[ampersand replacement=\&] 
0 \rar[] \& { #1 } \rar[tail, "{#2}"] \&  { #3 } \rar["{#4}"] \& {#5} \rar \& \cdots  \end{tikzcd}}}
%Proj Resolution: \artkz{domain}{name}{codomain}
\newcommand*\projresl[3]{{\begin{tikzcd}[ampersand replacement=\&] 
{ #1 } \rar["{#2}"] \&  { #3 }_\bullet \end{tikzcd}}}
%etale spce functor
\newcommand{\Et}{\acute{E}t}
%germs
\newcommand*\germ[2]{\mathrm{germ_{#1}({#2})}}
%opens
\newcommand*\Op[1]{\mathbf{Open}({#1})}
\newcommand*\Opo[1]{\mathbf{Open}({#1})^{op}}
%support
\newcommand{\supp}{\mathrm{supp}}
\newcommand{\ab}{\mathrm{Ab}}
%big roomy quotient
\newcommand{\nat}[6][large]{%
 \begin{tikzcd}
 [ampersand replacement = \&, column sep=#1]
  #2\ar[bend left=40,
{name=U}]{r}{#4}
  \ar[bend right=40,',
{name=D}]{r}{#5}
  \& #3 \ar[shorten <=10pt,shorten >=10pt,Rightarrow,from=U,to=D]{d}{~#6}
  \end{tikzcd}
}
%pullback
\newsavebox{\pullback}
\sbox\pullback{%
\begin{tikzpicture}%
\draw (0,0) -- (1ex,0ex);%
\draw (1ex,0ex) -- (1ex,1ex);%
\end{tikzpicture}}
%pullback comand: \arrow[dr, phantom, "\usebox\pullback" , very near start, color=black]
%pushout
\newsavebox{\pushout}
\sbox\pushout{%
\begin{tikzpicture}%
\draw (0,0) -- (0ex,1ex);%
\draw (0ex,1ex) -- (1ex,1ex);%
\end{tikzpicture}}
%pushout comand: \arrow[ul, phantom, "\usebox\pushout" , very near start, color=black]
%Squiggly Arrow Guy: 
\newcounter{sarrow}
\newcommand\xrsquigarrow[1]{%
\stepcounter{sarrow}%
\begin{tikzpicture}[decoration=snake]
\node (\thesarrow) {\strut#1};
\draw[->,decorate] (\thesarrow.south west) -- (\thesarrow.south east);
\end{tikzpicture}%
}
\title{Category Theory Course Notes}
\author{Deni Salja}
\begin{document}
\maketitle



\section*{Introduction}

These are course notes from the winter 2024 semester Category Theory course at Dalhousie university taught by Dorette Pronk. We follow Robin's notes~\cite{Robin'sNotes} with occasional reference to Emily Riehl's book~\cite{CatsinContext}. She gave us options to do seminar-style presentations or guest lectures to replace exams. 


\noi Categories are a lot of things to a lot of people. They are places where mathematical objects are studied by structure preserving morphisms between them that satisfy some composition laws. Like the mathematical objects they so often contextualize, categories can be studied in terms of structure preserving morphisms between them in a `higher' categorical context! We'll get there eventually. 

We begin with some familiar examples of (concrete) categories and check out some of the formal structures and properties they have, but first\dots

\section*{A bit of History}

This little summary is from Dorette's slides from her honours talk in Feb 2020. Category theory was developed for a couple of reasons. One was to contextualize the mathematical objects people cared about and study them in terms of their morphisms (Emmy Neother started this idea) and another was the idea of `natural' operations that we could perform on such objects. For example, functions between groups should preserve the group structure in order to be consider morphisms of groups and the isomorphisms between finite dimensional vector spaces and their duals depending on a chosen basis are instances of these ideas showing up. \par

Category theory was particularly important in (re)developing the foundatinos of algebraic topology. Euler characteristic was the first known result of a `topological invariant.' Riemann studied connectivity of complex varieties (zero sets of polynomial equations); for example disconnecting a sphere can be done with one circle and disconnecting a torus requires at least two. M\"obius strips were a first instance of studying orientability of surfaces. Betti numbers were inspired by Riemann's connectivity of surfaces to quantify connectivity in higher dimensions using higher dimensional spheres and boundary relations. Poincare studies solutions to differential equations on algebraic varieties and found betti numbers played an important role in these questions; he introduced torsion coefficients to capture the monodromy. Nowadays we see Betti numbers as ranks of abelian groups that show up in the study of what we now know as (singular) hoomology.\par

Emmy Noether was the first to suggest studying the algebraic complexes associated to spaces, specifically we should study the `holes' in a complex directly as the equivalence classes of cycles in the complex modulo their boundaries. This also led to Alexandrov's theory of `continuous decompositions' which is essentially the perspective of (the image of) a continuous map as a bundle of fibers above points in its codomain. Homology doesn't intertwine the group structure and the topological structure, it relates continuous maps with group homomorphisms. I'll ask for a link to her slides, anyway category theory will help us contextualize relationships between mathematical objects and state and prove more precise statements about them. 


\section{Jan 8th}

A category is an abstract setting where \textit{composition} makes sense. 

\begin{defn}
A category is a directed multigraph, $(\cC_0, \cC_1)$ along with an associative and unital algebra of paths. 
\end{defn}

\noi The directed multigraph tells you what the `objects' and `arrows' are and the algebra of paths says arrows whose domain and codomain agree can be composed. The objects of $\cC$ are denoted $\cC_0$ and the arrows are denoted $\cC_1$. Let $d_0 : \cC_1 \to \cC_0$ denote the function that picks out the domain of an arrow and $d_1 : \cC_1 \to \cC_0$ the function that picks out the codomain. The path algebra says that for any $f, g \in \cC_1$, if $d_1(f) = d_0(g)$ then there exists a unique composite $g \circ f \in \cC_1$ whose domain and codomain agree with those of $f$ and $g$ respectively:

\[ \begin{tikzcd}[column sep = large, row sep = large]
  A \rar["f"] \ar[dr, dashed, "g \circ f"'] & B \dar["g"] \\
  & C
\end{tikzcd}\]

\noi Associativity of the path algebra encodes associativity of arrow  composition in the category $\cC$. 

\[ h \circ (g \circ f) = (h \circ g) \circ f,\]

\noi The constant paths in the path algebra correspond to identity arrows, $1_A : A \to A$, and satisfy an identity law,

\[ 1_B \circ f = f = f \circ 1_A \]

\noi for any $f : A \to B$.

\begin{egs*}
Here are a bunch of examples you can verify yourself. To show something is a category you need to check there are well-defined objects, arrows, composition, identities, and that identity and associativity laws for composition hold. 
\begin{enumerate}[label=(\alph*)]
\item The category of sets and functions is a category with function composition. 

\item The category of groups and group homomorphisms is a category again with function composition. 

\item Vaguely but more generally speaking the category of (algebraic thing) with (algebraic thing) homomorphisms is a category. There's a way to talk about these kinds of `algebraic theories' more generally that we'll encounter later in the course!

\item Any directed multigraph can be made into a category by freely adding finite paths and identities.
 
\item The small categories $\mathbb{1}$ and $\mathbb{2}$ have as many objects and one less non-identity arrow. The first one is pictured below: 

\[ \begin{tikzcd}
  A \arrow[loop right] 
\end{tikzcd}\]

\item The category of topological spaces and continuous  maps between them is a category. 

\item Any set with a pre-order defines a category whose objects are the elements of the set and whose arrows are determined by the pre-order relation. 

\item If $\cC$ is a category and $X \in \cC_0$ is an object, the \textit{slice category over $X$}, $\cC/X$, has arrows in $\cC$ with codomain $X$ as its objects and commuting triangles (over $X$) in $\cC$ as its arrows. Composition and identities are inherited from $\cC$.
\end{enumerate}

\end{egs*}


\subsection{January 12th}
I missed this class for a tennis tournament, we wrote down some definitions and talked about the path category associated to a directed (multi)graph. We talked about $\mathbf{Rel}$ and $\mathbf{Par}$ as further examples.  

\subsection{January 15th} 

\begin{defn}
The \textit{dual} of a category $\cC$ is denoted $\cC^{op}$. It has the same objects as $\cC$ and the arrows are determined by those in $\cC$ but are written in the opposite direction: 

\[ \cC^{op} (A,B) = \cC (B,A) \]
\end{defn}

\begin{egs*}
\begin{enumerate}
\item Check that $\cC^{op}$ is in fact a category. 
\item The category $\mathbf{Rel}$ is isomorphic to its opposite, $\mathbf{Rel}^{op}$. 
\item The category $\mathbf{Mat(R)}$ has natural numbers as objects and arrows $m \to n$ are $n \times m$-matrices with coefficients in the ring $R$. Composition is matrix multiplication and identites are the identity matrices. 
\end{enumerate}
\end{egs*}

Now that we have some examples of categories, let's look at some properties that arrows in a category may have. 

\begin{defn}
An arrow $f : A \to B$ is a \textit{monomorphism} if $g \circ f = h \circ f$ implies $g = h$. In pictures, if the diagram

\[ \begin{tikzcd}
  A \rar["f"] & B \rar[shift left, "g"] \rar[shift right, "h"'] & C
\end{tikzcd}\]
\noi commutes, then $g = h$. 
\end{defn}

\begin{egs*}
What are the monomorphisms in $\Set$? $\Grp$? $\Rel$?  
\end{egs*}

\noi The dual notion of a monomorphism is an epimorphism. It can be defined as a monomorphism in the opposite category or that result can be proven from the following definition: 

\begin{defn}
An arrow $f : A \to B$ is an \textit{epimorphism} if $f \circ g = f \circ h \circ f$ implies $g = h$. In pictures, if the diagram

\[ \begin{tikzcd}
  C \rar[shift left, "g"] \rar[shift right, "h"'] & A \rar["f"] & B 
\end{tikzcd}\]
\noi commutes, then $g = h$. 
\end{defn}

\begin{egs*}
  What are the epimorphisms in $\Set$? $\Grp$? $\Rel$?  
\end{egs*}

\begin{prop}
The mono/epimorphisms in $\cC$ are precisely the epi/monomorphisms in $\cC^{op}$ respectively. 
\end{prop}

\begin{defn}
An arrow with a left (post-compositional) inverse is called a \textit{retraction} and an arrow with a right (pre-compositional) inverse is called a \textit{section}. 
\end{defn}

\begin{egs*}
An \textit{inverse} of an arrow is a left and a right inverse. Show that such an arrow is necessarily unique. 
\end{egs*}

\begin{defn}
An \textit{isomorphism} is an arrow with a left and right inverse. 
\end{defn}

\begin{egs*}
Find or construct a category with at least one arrow that's monic and epic but not an isomorphism. 
\end{egs*}

\begin{lem}
If $g \circ f$ is monic then $f$ is monic and if $g \circ f$ is epic then $g$ is epic. 
\end{lem}
\begin{proof}
These are dual statements, it suffices to prove one.
\end{proof}

\begin{lem}
The following are equivalent: 
\begin{enumerate}[label=(\alph*)]
\item The map $f : A \to B$ is an isomorphism. 
\item $f$ is an epic section 
\item $f$ is a monic retraction 
\end{enumerate}
\end{lem}
\begin{proof}
\end{proof}

\begin{defn}
A \textit{subobject} is an equivalence class of monomorphisms with a common codomain. Two mono's with a common codomain represent the same subobject if they're isomorphic in the slice category over that coodmain. 
\end{defn}



\begin{defn}
An \textit{idempotent} is an arrow $e : A \to A$ such that $e^2 = e$.
\end{defn}

\noi Dorette thinks about these as `really nice subobjects.'  We'll hear about why next class when we talk about partially defined maps a bit more. 

\subsection{January 17th}

\begin{egs*}
Let $r : A \to B$ be a retraction of $s: B \to A$, a section. Then $r \circ s = 1$ implies $ (s \circ r)^2 = s \circ r$ is idempotent. 
\end{egs*}

\noi Not every subobject gives an idempotent because there may not be a projection onto that subobject; equivalently: not every projection has a global section. Idempotents that can be given this way are called $\textit{split idempotents}$. In $\Set$ for example, every idempotent $e : X \to X$ splits, via its image, as a retraction followed by a section: 

\[ \begin{tikzcd} 
  X \rar[rr, "e"] \ar[dr,two heads, "r_e"'] && X \\
  & \im e  \ar[ur, hookrightarrow, "s_e"]
\end{tikzcd}\]

\noi where $r_e$ is just $e$ with a restricted codomain and $s_e$ is subset inclusion. 

\begin{prop}
Idempotent splittings are unique in the sense that for any two splittings $e = s \circ r$ and $e = r' \circ s'$ of an idempotent $e$ there exists a unique isomorphism $h : \dom s \to \dom s'$ such that $h \circ r = r'$ and $s' \circ h = s$. 
\end{prop}
\begin{proof}
Define $h = r' \circ s$ and check that everything works. The inverse is $h^{-1} = r \circ s'$. 
\end{proof}

\begin{cor}
Split idempotents correspond to subobjects. 
\end{cor}

\begin{defn}
The universal way to split idempotents in a category $\cC$ is called the `Karoubi envelope.' This is a new category whose objects are the idempotents in $\cC$ and whose arrows $f : e_1 \to e_2$ are given by arrows $f : \dom e_1 \to \dom e_2$ in $\cC$ such that $e_2 \circ f \circ e_2 = f$ so the diagram 

\[ \begin{tikzcd}[column sep = large, row sep = large]
  A \dar["f"'] \ar[dr, "f"] \rar["e_1"] & A \dar["f"] \\
  B \rar["e_2"'] & B 
\end{tikzcd}\]
\end{defn}

Composition is given by stacking commuting squares

\[ \begin{tikzcd}[column sep = large, row sep = large]
  A \dar["f"'] \ar[dr, "f"] \rar["e_1"] & A \dar["f"] \\
  B \rar["e_2"'] \dar["g"'] \ar[dr, "g"] & B \dar["g"] \\
  C \rar["e_3"'] & C
\end{tikzcd} = 
\begin{tikzcd}[column sep = large, row sep = large]
  A \dar["g \circ f"'] \ar[dr, "g \circ f"] \rar["e_1"] & A \dar["g \circ f"] \\
  C \rar["e_3"'] & C 
\end{tikzcd}\]

\noi and the identity arrow on $e$ is $e$. 

\[ \begin{tikzcd}[column sep = large, row sep = large]
  A \dar["e"'] \ar[dr, "e"] \rar["e"] & A \dar["e"] \\
  A \rar["e"'] & A 
\end{tikzcd}\]

\begin{egs*}
For the category of open subsets of $\mR^n$ and the smooth functions between them, the Karoubi envelope is the category of (smooth) manifolds. This relies on the tubular neighborhood theorem for manifolds (that you can embed them in $\mR^n$ and thicken them with an interval to get an open subset of $\mR^n$). \par

\noi In a similar fashion, vector bundles form the karoubi envolope of the category of trivial bundles. \par
\end{egs*}

The original category $\cC$ embeds into the Karoubi envelope: 

\[ \cC \to Kar(\cC) \]

\noi by sending each object to its identity map and arrows to the obvious squares. Notice this assignment preserves the `category structure{,}' namely identities and composition.\par 

Split epimorphisms are exmaples of arrows that factor in a universal way as a composite of arrows from two special classes of arrows. A factorization system in a category describes when every arrow factors as a composite of two arrows from two special classes of arrows. An example of a factorization system in $\Set$ is the epi-mono factorization which comes from noticing that every function $f: A \to B$ factors as an epimorphism (given by restricting its codomain to the image) followed by a monomorphism (given by including the image as a subset). 

\begin{defn}
Let $\cE, \cM \subseteq \cC_1$ be two classes of arrows that are closed under composition and both containing the identity arrows. Then $\cC$ has an $\cE$-$\cM$ factorization system if every arrow in $\cC$ factors as a composite of an arrow in $\cE$ followed by an arorw in $\cM$ and this factorization is unique up to a unique map between the intermediate objects. We write arrows in $\cE$ with two heads and arrows in $\cM$ with tails, the universal property looks like: 

\[\begin{tikzcd}[column sep = large, row sep= large]
  & X \ar[dr] & \\
  A \ar[ur] \ar[dr] \rar[rr, "f"] && B \\
  & Y \ar[ur]\ar[from=uu, bend right, crossing over, "\exists !" near end, "\cong"'] & 
\end{tikzcd}\]
\end{defn}

\subsection{January 9th}

Today we start with the notion of orthogonality (of arrows in a category). 

\begin{defn}\label{def orthogonal arrows}
Let $f : A \to B$ and $g : C \to D$ be two arrows in a category $\cC$. We say `$f$ is \textit{left orthogonal} to $g$' or `$g$ is \textit{right orthogonal} to $f${,}' and we write $f \perp g$ if every commutative diagram 

\[ \begin{tikzcd}[column sep = large , row sep = large]
  A \dar["f"'] \rar["h_1"] & C\dar["g"] \\
  B \rar["h_2"'] & D
\end{tikzcd}\]

\noi has a unique filler 

\[ \begin{tikzcd}[column sep = large , row sep = large]
  A \dar["f"'] \rar["h_1"] & C\dar["g"] \\
  B \ar[ur, dashed, "k"] \rar["h_2"'] & D
\end{tikzcd}\]

\noi making each of the triangles commute. 
\end{defn}

\begin{rem*}
If $f \perp g$ in $\cC$ then $g^{op} \perp f^{op}$ in $\cC^{op}$. 
\end{rem*}

\begin{egs*}\
\begin{enumerate}[label=(\alph*)]
\item Every epimorphism is left orthogonal to every monomorphism in $\Set$. 
\item For $f : \{0,1\} \to \{ *\}$ the right orthogonal arrows are functions with singleton fibers. This is required to ensure uniqueness of the filler since $h_1 : \{0,1\} \to C$ is able to separate points in $\cC$ and having singleton fibers is another way to say the function is injective. 
\end{enumerate}
\end{egs*}

\noi We say $f$ is \textit{weakly} orthogonal to $g$ if the filler, $k$, in Definition~\ref{def orthogonal arrows} exists but is not unique. 


\begin{egs*}\
  \begin{enumerate}[label=(\alph*)]
  \item For $\emptyset \to \{*\}$ (in $\Set$), the weakly right orthogonal arrows are the surjective functions. The (strictly) right orthogonal arrows are the bijections. To see why, ask yourself `what do the fibers of such a map have to be?' 
  \item In $\Top$, the weakly right orthogonal maps to the inclusion $\{0\} \hookrightarrow [0,1]$ are those that have the path lifting property with respect to that inclusion. This class includes the covering maps but it also contains more! 
  \item 
  
  \end{enumerate}
\end{egs*}


\subsection{January 22nd} 

We have seen that in $\Set$ all epi's are left orthogonal to all mono's. In $\Set$, mono's are also weakly left orthogonal to epi's. 


\begin{defn}
Let $\cE, \cM \subseteq \cC_1$ be two classes of arrows in $\cC$. We say $\cE$ is left orthogonal to $\cM$ if every arrow in $\cE$ is left orthogonal to every arrow in $\cM$. 
\end{defn}

\noi What if we want to add stuff into $\cE$ and $\cM$? 

\begin{defn}
The class of arrows that are right orthogonal to all arrows in $\cE$ is denoted $\cE_\perp$. The class of arrows that are left orthogonal to all arrows in $\cM$ are denoted $\tensor[_\perp]{\cM}{}$.
\end{defn}

\begin{prop}
For any class of arrows $\cE$ we have that $\cE_\perp$ contains all iso's, $ {_\perp}(\cE_\perp) \supseteq \cE$.
\end{prop}
\begin{proof}
\end{proof}

\begin{prop}
The class of arrows left orthogonal to the class of isomorphisms is all of the arrows: $_\perp Iso = \cC_1$. 
\end{prop}

\begin{prop}
Claim| $ ({_\perp}(\cE_\perp))_\perp = \cE_\perp$
\end{prop}
\begin{proof}
Suppose $A \subseteq A'$, then $A_\perp \supseteq A'_\perp$ and $_\perp A \supseteq \perp A'$ so that 

\[ A \subseteq _\perp(A_\perp). \]
\noi Applying $\perp$ once more on the right we get 
\[ A_\perp \supseteq (_\perp (A_\perp))_\perp \]

\noi and also we have $(\perp(A_\perp))_\perp \supseteq A_\perp$. This shows both subset inclusions and the equality follows. 
\end{proof}

\begin{prop}
For any class of arrows $A$ there are two maximal classes of arrows $A_1$ and $A_2$ such that $(A_1)\perp = A_2$ and $_\perp(A_2) = A_1$ and $A_1 \supseteq A$. 
\end{prop}
\begin{proof}
Let $A_1 = _\perp (A_\perp)$ and let $A_2 = A_\perp$. 
\end{proof}

\begin{lem}
  Let $A \subseteq \cC_1$ be a class of arrows.
\begin{enumerate}
\item Isomorphisms are right (and left) orthogonal to $A$. \medskip 
\item If $x \in A \cap A_\perp$ then $x$ is an iso. \medskip
\item $A_\perp$ and ${_\perp}A$ are closed under composition. \medskip
\item If $h \circ g \in A_\perp$ and $h$ is monic then $g \in A_\perp$. Is the dual statement: if $g \circ h \in {_\perp}A$ and $g$ is epic then $h \in  {_\perp}A$?  \medskip
\item If $h \circ g \in A_\perp$ and $h \in A_\perp$ then $g \in A_\perp$. Write down the dual statement. 
\end{enumerate}
\end{lem}
\begin{proof}
Exercise in diagram chasing and unraveling definitions. 
\end{proof}

\begin{defn}
A factorization system in a category $\cC$ is a pair $(\cE, \cM)$ of classes of arrows $\cE, \cM \subseteq \cC_1$ such that $\cE$ and $\cM$ contain all iso's, $\cE$ and $\cM$ are closed under composition, and every map $f$ factors as $f = g \circ h$ where $h \in \cE$ and $g \in \cM$ uniquely up to a unique isomorphism (between the mediating object(s) in the middle). 
\end{defn}


\subsection{January 24th}

\begin{prop}
  If $(\cE, \cM)$ is a factorization system in $\cC$ then
  
  \begin{enumerate}[label=(\alph*)]
  \item $\cE $ is left orthogonal to $cM$
  \item Factorizations extend to commutative squares.
  \end{enumerate} 
  \end{prop}
  \begin{proof}
  \begin{enumerate}
    Consider the lifting problem: 
    \[\begin{tikzcd}
      A \rar["a"] \dar[two heads,"e"'] & A' \dar[tail, "m"] \\
      B \rar["b"'] & B'
      \end{tikzcd}\]

  \noi where the two headed arrow is in $\cE$ and the arrow with a tail is in $\cM$. We factor both the top and bottom arrows and obtain a filler by uniqueness of factorizations: 

  \[\begin{tikzcd}[column sep = large, row sep = large]
    A \rar[two heads, "e_a"] \dar[two heads,"e"'] & E_A \rar[tail, "m_a"] &  A' \dar[tail, "m"] \\
    B \rar[two heads, "e_b"'] & E_B \uar[dashed, "k"] \rar[tail, "m_b"] & B'
    \end{tikzcd}\]

  Notice $\ell = m_a \circ k \circ e_b$ solve the lifting problem. To see this solution is unique suppose there's another solution $\ell'$ and factor it

  \[\begin{tikzcd}[column sep =huge, row sep = huge]
    \bullet && \bullet && \bullet \\
    & \bullet \\
    \bullet && \bullet && \bullet
    \arrow["e"', two heads, from=1-1, to=3-1]
    \arrow["{e_a}", two heads, from=1-1, to=1-3]
    \arrow["{e_{\ell'}}", two heads, from=3-1, to=2-2]
    \arrow["\theta", dashed, from=2-2, to=1-3]
    \arrow["{m_a}", tail, from=1-3, to=1-5]
    \arrow["{m_{\ell'}}", tail, from=2-2, to=1-5]
    \arrow["\ell"', bend left=-6, from=3-1, to=1-5]
    \arrow["{\ell'}"', bend left=6, from=3-1, to=1-5]
    \arrow["{e_b}"', two heads, from=3-1, to=3-3]
    \arrow["{m_b}"', tail, from=3-3, to=3-5]
    \arrow["m", tail, from=1-5, to=3-5]
    \arrow["{\theta'}", dashed, from=3-3, to=2-2]
\end{tikzcd}\]

\noi By uniqueness we have $\theta \circ \theta'  = k$ and consequently $\ell = \ell'$:

\begin{align*}
\ell 
&= m_a \circ k \circ e_b \\
&= m_a \circ \theta \circ \theta' \circ e_b \\
&= m_{\ell'} \circ \theta \circ e_b \\
&- m_{\ell'} \circ e_{\ell'}\\
&= \ell' .
\end{align*}

\noi It follows that the lift $\ell$ is unique. \medskip 

\item Factor the vertical arrows in a commuting square, squish it into a (rectangular) lifting problem that can be uniquely solved.   
\end{enumerate}
\end{proof}\medskip 

\begin{defn}
Given a class $\cE$ of maps we say that an arrow $f$ in in $\cC$ has a maximal $\cE$-factorization if it can be factors as $f = f' \circ e $ with $e \in \cE$ such that for all commutative squares there exists a unique filler as in the diagram below: 

\[ \begin{tikzcd}[column sep = large, row sep = large]
  \bullet \rar[] \dar[dd,"g'"'] & \bullet \dar["e"'] \\
  & \bullet \dar["f"']\\
  \bullet \ar[ur, dashed]\rar[] &\bullet
\end{tikzcd}.\] 

\noi We say $\cC$ has a maximal $\cE$-factorization if every arrow in $\cC$ has a maximal $\cE$-factorization. 
\end{defn}

\noi The dual concept is a \textit{maximal $\cM$-cofactorization system}.

\begin{prop}
The following are equivalent: 

\begin{enumerate}
\item There are two classes $\cE$ and $\cM$ such that 
  \subitem $\cE$ is left orthogonal to $\cM$ 
  \subitem $\cE$ is closed under (post-)composition with iso's. 
  \subitem $\cM$ is closed under (pre-)composition with iso's. 
  \subitem Each map $f$ can be factored as $f = m \circ e$ for $e \in \cE$ and $m \in \cM$.

\item $(\cE, \cM)$ is a pair of maximal orthogonal classes of maps such that every map in $\cC$ factors as $m \circ e$ for some $m \in cM$ and $e \in cE$. 
\item $\cE$ is a class of maps containing all iso's and closed under composition such that each map $f \in \cC$ can be factored as a maximal $\cE$-factorization 
\item $\cM$ is a class of maps closed under composotion and containing all iso's such that every map factors as a maximal $\cM$-factorization. (dual to the previous one)
\item $(\cE, \cM)$ is a factorization system. 
\end{enumerate}
\end{prop}
\begin{proof}
Next class. 
\end{proof}

\subsection{January 26th}

Today we prove the previous lemma. Dorette wrote the proof down beforehand so I'm not going to live-TeX all of it, I'll just give sketches/hints.Before that, a correction from a couple classes back:

Consider the lifting problem: 

\[ \begin{tikzcd}
  \{0,1\} \dar[] \rar[] & X \dar[] \\
\{*\} \rar[] \ar[ur, dashed] & Y \end{tikzcd}\]

\noi The square can only commute if the top horizontal arrow agrees on the fiber of $g$ above the point picked out by the bottom arrow. A lift such as the dashed line above then exists whenever $g$ only has empty or singleton fibers above each point. In this case weak orthogonality implies orthogonality. 

\begin{proof}[(Sketch) of last Proposition]
The third and fourth statements are duals so we only deal with the third. We show a chain of implications in the order they're stated skipped the fourth by duality. \bigskip

For $(1)$ implies $(2)$ we only need to show maximality of either $\cE$ or $\cM$. We have one of the containments in the assumption so show the other one. For this you pick $g \in \cE$ or $\cM$, factor it, and find a lift to show one of the maps is a section/retraction (depending on which one you started proving). Use that unique lift to find a lift for another square with both sides of it given by the same factorization of $g$. This gives a way to write $g$ factoring through an iso and shows $g$ satisfies the required maximality property \bigskip 

For $(2) \implies (3)$, `closed under composition' and `containing all iso's' was proved in a previous class so we only need to show that the factorization is maximal. Play two factorizations against each other to set up a lifting problem with a unique solution. We ran into some issues with this proof so we're leaving it as an exercise. \bigskip

For $(3) \implies (5)$, suppose you have $\cE$ and define $\cM$ to be all the maps whose maximal factorization, $f = f' \circ e$ has $e$ being an isomorphism. Check all the axioms for a factorization system are defined using the maximality property of the factorization $\cE$-factorizations. \bigskip

For $(5) \implies (1)$, suppose you have a factorization system. We only need to show $\cE$ is left orthogonal to $\cM$. Set up the lifting problem, factor the horizontal arrows and use closure under composition of $\cE$ and $\cM$ along with uniqueness of factorizations to solve the lifing problem uniquely. \bigskip


\end{proof}

\subsection{Jan 29}

Snow day and Dorette was sick so no class.

\subsection{Jan 31st}

One last thing about factorization systems: 

\begin{lem}
If $(\cE, \cM)$ is a factorization system for $\cC$ then 

\begin{enumerate}
\item If $g \circ f \in \cM$ and $g \in \cM$ then $f \in \cM$
\item If $g \circ f \in \cM$ and $f \in \cE$ then $g \in \cE$
\item $\cM$ contains all sections iff all $\cE$ maps that are sections are iso's. 
\item $\cE$ contains all retractions iff all $\cM$ maps that are retractions are iso's. 
\end{enumerate}
\end{lem}
\begin{proof}
\end{proof}

\begin{egs*}
Isomorphisms with all the other arrows in any category (in either order) forms a factorization system. Epimorphisms and monomorphisms in $\Set$, $\Grp$, $\Top$, form factorization systems and in the category of rings localizations and conservative morphisms form another important one in algebraic geometry. 
\end{egs*}

\begin{defn}
A functor $F : \cC \to \cD$ assigns objects to objects and arrows to arrows 

\[ F_0 : \cC_0 \to \cD_0 , \quad F_1 : \cC_1 \to \cD_1\]

\noi such that domains, codomains, identities, and composition are all preserved. 
\end{defn}

\begin{egs*}
We can pick out objects, arrows, isomorphisms, in a category by looking at functors into out from $\mathbb{1}, \mathbb{2},$ and the `walking isomorphism' category (with 2 objects and 2 non-identity arrows that mutually inverse). 
\end{egs*}




\subsection{Feb 7}

We're wrapping up a proof from the factorization system business. Namely that given a maximal $\cE$-factorization for every arrow we can define $\cM$ to be the arrows whose maximal $\cE$-factorizations have an isomorphism as the $\cE$-factor in the factorizaiton. \medskip 

To see we can $\cE$-$\cM$ factorizations notice we can factor maximal $\cE$-factorizations, $f = f' \circ e$, twice by factoring the non-$\cE$ factor, $f' = f'' \circ e'$. Then show $e'$ is an isomorphism by leveraging the modified lifting property in the square: 

\[\begin{tikzcd}[column sep = large, row sep = large]
	\bullet & \bullet \\
	\bullet & \bullet \\
	\bullet & \bullet
	\arrow["e"', from=1-1, to=2-1]
	\arrow["{e'}"', from=2-1, to=3-1]
	\arrow["k", dashed, from=3-1, to=2-2]
	\arrow[equals, "", from=1-1, to=1-2]
	\arrow["e", from=1-2, to=2-2]
	\arrow["{f'}", from=2-2, to=3-2]
	\arrow["{f''}"', from=3-1, to=3-2]
	\arrow[dashed, from=2-1, to=2-2]
\end{tikzcd}\]

\noi Now show $k \circ e' =1$ and $e' \circ k = 1$ by chasing diagrams/equations. That concludes the proof. \bigskip 

\begin{eg*}
Let $\varphi : A \to B$ be a ring homomorphism between unital commutative rings. We say $\varphi$ \textit{inverts} $a \ in A$ if $\varphi(a)$ is invertible in $B$. \medskip 

We say $\varphi$ is conservative if it doesn't create new inverses, ie.~if $\varphi$ inversts $a$ then $a$ is invertible in $A$. 
\end{eg*}
\end{document}